{"openapi":"3.1.0","info":{"title":"AuraTech API","version":"0.1.0"},"paths":{"/api/v1/auth/login/check-identifier":{"post":{"tags":["Authentication"],"summary":"Check User Identifier","description":"Endpoint para el primer paso del login.\nVerifica un identificador y devuelve el estado del usuario.","operationId":"check_user_identifier_api_v1_auth_login_check_identifier_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginIdentifierRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckIdentifierResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/login/first-time":{"post":{"tags":["Authentication"],"summary":"Create Password First Login","description":"Endpoint para que un usuario nuevo autorizado cree su contraseña.","operationId":"create_password_first_login_api_v1_auth_login_first_time_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FirstLoginCreatePasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/login/token":{"post":{"tags":["Authentication"],"summary":"Login For Access Token","description":"Endpoint para el login de usuarios ya existentes.\nCompatible con el flujo 'password' de OAuth2 para Swagger UI.","operationId":"login_for_access_token_api_v1_auth_login_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_for_access_token_api_v1_auth_login_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/":{"post":{"tags":["Users"],"summary":"Create User By Admin","description":"Create a new user as an administrator.","operationId":"create_user_by_admin_api_v1_users__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreateByAdmin"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Users"],"summary":"Read Users","operationId":"read_users_api_v1_users__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"},"title":"Response Read Users Api V1 Users  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}":{"put":{"tags":["Users"],"summary":"Update User By Admin","operationId":"update_user_by_admin_api_v1_users__user_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateByAdmin"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Users"],"summary":"Delete User","operationId":"delete_user_api_v1_users__user_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me":{"get":{"tags":["Users"],"summary":"Read User Me","operationId":"read_user_me_api_v1_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/me/change-password":{"put":{"tags":["Users"],"summary":"Change Password Me","operationId":"change_password_me_api_v1_users_me_change_password_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordChange"}}},"required":true},"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/me/update-cel":{"put":{"tags":["Users"],"summary":"Update Cel Me","description":"Update user's own cel_renovar.\nNota: mantenemos compatibilidad, aunque la fuente canónica será `staff_contacts`.","operationId":"update_cel_me_api_v1_users_me_update_cel_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateCel"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/templates/":{"post":{"tags":["Templates"],"summary":"Crear una nueva plantilla de mensaje","description":"Crea una plantilla (SMS, Email o WhatsApp). Si la creadora es la Directora de Operaciones, queda pendiente de revisión jurídica (PENDING_INTERNAL_APPROVAL). De lo contrario, queda pendiente de revisión de Operaciones (PENDING_OPERATIONS_APPROVAL).","operationId":"create_template_api_v1_templates__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/TemplateCreateSMS"},{"$ref":"#/components/schemas/TemplateCreateEmail"},{"$ref":"#/components/schemas/TemplateCreateWhatsApp"}],"title":"Template In"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Template"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Templates"],"summary":"Listar todas las plantillas del sistema","operationId":"get_all_templates_api_v1_templates__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Template"},"title":"Response Get All Templates Api V1 Templates  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/templates/{template_id}/internal-approve":{"post":{"tags":["Templates"],"summary":"Aprobar una plantilla internamente","description":"Aprobación en dos etapas: Operaciones → Jurídico. Jurídico finaliza (o envía a Meta para WhatsApp).","operationId":"approve_template_internally_api_v1_templates__template_id__internal_approve_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID de la plantilla a aprobar","title":"Template Id"},"description":"ID de la plantilla a aprobar"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Template"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/templates/{template_id}/internal-reject":{"post":{"tags":["Templates"],"summary":"Rechazar una plantilla internamente","description":"Rechazo en la etapa correspondiente (Operaciones o Jurídico).","operationId":"reject_template_internally_api_v1_templates__template_id__internal_reject_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID de la plantilla a rechazar","title":"Template Id"},"description":"ID de la plantilla a rechazar"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplateReviewRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Template"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/templates/pending-review":{"get":{"tags":["Templates"],"summary":"Listar plantillas pendientes de revisión","operationId":"get_pending_templates_api_v1_templates_pending_review_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Template"},"type":"array","title":"Response Get Pending Templates Api V1 Templates Pending Review Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/templates/variables":{"get":{"tags":["Templates"],"summary":"Obtener variables disponibles","description":"Devuelve una lista de todas las variables del 'master' que se pueden usar en las plantillas.","operationId":"get_template_variables_api_v1_templates_variables_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/TemplateVariable"},"type":"array","title":"Response Get Template Variables Api V1 Templates Variables Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/templates/{template_id}":{"get":{"tags":["Templates"],"summary":"Obtener una plantilla por su ID","operationId":"get_template_by_id_api_v1_templates__template_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID de la plantilla a obtener","title":"Template Id"},"description":"ID de la plantilla a obtener"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Template"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/templates/{template_id}/preview":{"get":{"tags":["Templates"],"summary":"Obtener vista previa de una plantilla","description":"Genera una vista previa de la plantilla.\n- Si se provee `cedula`, usa los datos de ese cliente.\n- Si no, usa datos de un cliente aleatorio.","operationId":"get_template_preview_api_v1_templates__template_id__preview_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID de la plantilla para previsualizar","title":"Template Id"},"description":"ID de la plantilla para previsualizar"},{"name":"cedula","in":"query","required":false,"schema":{"type":"string","description":"Cédula del cliente para usar en la previsualización","title":"Cedula"},"description":"Cédula del cliente para usar en la previsualización"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplatePreview"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/templates/character-count":{"post":{"tags":["Templates"],"summary":"Contar caracteres de plantilla SMS","description":"Recibe el contenido de una plantilla SMS y devuelve la cantidad de caracteres de 10 renderizaciones con datos aleatorios de clientes.","operationId":"get_character_count_api_v1_templates_character_count_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplateCharacterCountRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"integer"},"type":"array","title":"Response Get Character Count Api V1 Templates Character Count Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/notifications/":{"get":{"tags":["Notifications"],"summary":"Obtener notificaciones del usuario","description":"Obtiene una lista paginada de las notificaciones del usuario actual.","operationId":"get_my_notifications_api_v1_notifications__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Notification"},"title":"Response Get My Notifications Api V1 Notifications  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notifications/unread-count":{"get":{"tags":["Notifications"],"summary":"Obtener conteo de notificaciones no leídas","description":"Devuelve el número de notificaciones no leídas para el usuario actual.","operationId":"get_my_unread_notifications_count_api_v1_notifications_unread_count_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnreadNotificationsCount"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/notifications/{notification_id}/read":{"patch":{"tags":["Notifications"],"summary":"Marcar una notificación como leída","description":"Marca una notificación específica como leída.","operationId":"mark_notification_as_read_api_v1_notifications__notification_id__read_patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"notification_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID de la notificación a marcar","title":"Notification Id"},"description":"ID de la notificación a marcar"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Notification"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notifications/read-all":{"post":{"tags":["Notifications"],"summary":"Marcar todas las notificaciones como leídas y devolver conteo","description":"Marca todas las notificaciones del usuario autenticado como leídas.\n\nDevuelve el conteo actual de no leídas (debe ser 0 tras la operación).","operationId":"mark_all_notifications_as_read_api_v1_notifications_read_all_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnreadNotificationsCount"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/notifications/test-publish":{"post":{"tags":["Notifications"],"summary":"Publicar un evento de notificación de prueba para el usuario actual","description":"Publica un evento 'notification.created' de prueba en el canal del usuario autenticado.\n\nÚtil para validar de extremo a extremo que el frontend recibe eventos por WebSocket.","operationId":"test_publish_notification_api_v1_notifications_test_publish_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/audience/filters":{"get":{"tags":["Audience & Segmentation"],"summary":"Obtener todos los filtros de audiencia guardados","operationId":"get_saved_filters_api_v1_audience_filters_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/AudienceFilter"},"type":"array","title":"Response Get Saved Filters Api V1 Audience Filters Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Audience & Segmentation"],"summary":"Crear y guardar un nuevo filtro de audiencia","operationId":"create_audience_filter_api_v1_audience_filters_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceFilterCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceFilter"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/audience/count":{"post":{"tags":["Audience & Segmentation"],"summary":"Calcular el tamaño de la audiencia en tiempo real","description":"Recibe un conjunto de reglas y devuelve cuántos clientes coinciden.\nEl sistema validará que todos los `field_name` sean campos válidos y aplicará\nautomáticamente un filtro base si el usuario es un \"Coordinador\".","operationId":"get_audience_count_api_v1_audience_count_post","requestBody":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/AudienceFilterRuleCreate"},"type":"array","title":"Rules"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceCountResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/audience/available-filters":{"get":{"tags":["Audience & Segmentation"],"summary":"Obtener los campos de filtrado disponibles","description":"Devuelve una lista dinámica de todos los campos por los que se puede\nfiltrar una audiencia, extraídos directamente de los modelos de datos\nMasterClient y MasterObligation.","operationId":"get_available_filter_fields_api_v1_audience_available_filters_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/TemplateVariable"},"type":"array","title":"Response Get Available Filter Fields Api V1 Audience Available Filters Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/audience/filters/distinct-values/{field_name}":{"get":{"tags":["Audience & Segmentation"],"summary":"Obtener los valores distintos para un campo de filtrado","description":"Devuelve una lista de los valores únicos (distinct) para un campo específico,\nútil para poblar menús desplegables en la UI.\nSolo funciona para campos de tipo texto.","operationId":"get_distinct_values_for_field_api_v1_audience_filters_distinct_values__field_name__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"field_name","in":"path","required":true,"schema":{"type":"string","title":"Field Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{},"title":"Response Get Distinct Values For Field Api V1 Audience Filters Distinct Values  Field Name  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audience/count/v2":{"post":{"tags":["Audience & Segmentation"],"summary":"Calcular tamaño de audiencia con filtros anidados (V2)","operationId":"get_audience_count_v2_api_v1_audience_count_v2_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceFilterDefinitionV2-Input"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceCountResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/audience/filters/v2":{"post":{"tags":["Audience & Segmentation"],"summary":"Crear y guardar un nuevo filtro (V2) con definición anidada","operationId":"create_audience_filter_v2_api_v1_audience_filters_v2_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceFilterV2Create"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceFilterV2"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/audience/filters/v2/{filter_id}":{"get":{"tags":["Audience & Segmentation"],"summary":"Obtener un filtro V2 por ID","operationId":"get_audience_filter_v2_api_v1_audience_filters_v2__filter_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"filter_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Filter Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceFilterV2"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audience/count/simple":{"post":{"tags":["Audience & Segmentation"],"summary":"Calcular tamaño de audiencia (Simple: general AND NOT exclude)","description":"Calcula el tamaño de la audiencia con el modo Simple.\n\nSemántica: resultado = (AND de `general`) AND NOT (OR de grupos `exclude`).\n- Cada grupo en `exclude` combina sus condiciones con AND\n- Los grupos de `exclude` se unen con OR y se aplican con NOT sobre el resultado\n\nEjemplo de cuerpo:\n{\n  \"general\": [\n    {\"field\": \"codigo_del_coordinador\", \"operator\": \"eq\", \"value\": \"jdiaz\"}\n  ],\n  \"exclude\": [\n    [\n      {\"field\": \"resultado_gestor\", \"operator\": \"in\", \"value\": [\"Acuerdo de pago\"]},\n      {\"field\": \"ultima_fecha_gestion_directa\", \"operator\": \"between\", \"value\": [\"2025-08-01\",\"2025-08-31\"]}\n    ]\n  ]\n}","operationId":"get_audience_count_simple_api_v1_audience_count_simple_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceSimpleDefinition"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceCountResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/audience/filters/simple":{"get":{"tags":["Audience & Segmentation"],"summary":"Listar filtros simples (General + Exclude)","description":"Lista filtros guardados con definición Simple (`general` y `exclude`).","operationId":"get_simple_filters_api_v1_audience_filters_simple_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/AudienceFilterSimple"},"type":"array","title":"Response Get Simple Filters Api V1 Audience Filters Simple Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Audience & Segmentation"],"summary":"Crear y guardar un filtro simple (General + Exclude)","description":"Crea y guarda un filtro en modo Simple (General + Retiros).\n\n- Valida campos contra la lista blanca de `/available-filters`\n- Persiste `definition` en `audience_filters.definition_json`\n- Responde con el filtro creado en formato Simple","operationId":"create_audience_filter_simple_api_v1_audience_filters_simple_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceFilterSimpleCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceFilterSimple"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/audience/filters/simple/{filter_id}":{"get":{"tags":["Audience & Segmentation"],"summary":"Obtener un filtro simple por ID","description":"Obtiene un filtro Simple por su ID.","operationId":"get_simple_filter_by_id_api_v1_audience_filters_simple__filter_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"filter_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Filter Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceFilterSimple"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audience/filters/{filter_id}":{"get":{"tags":["Audience & Segmentation"],"summary":"Obtener un filtro de audiencia por su ID","operationId":"get_audience_filter_api_v1_audience_filters__filter_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"filter_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Filter Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudienceFilter"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/campaigns/preview":{"post":{"tags":["Campaigns (One-Time)"],"summary":"Get a preview of campaign recipients","description":"Provides a preview of the recipients that a campaign will target based on its configuration.\n\nThis endpoint **does not** create or save the campaign. It's a dry run to verify the audience.","operationId":"preview_campaign_recipients_api_v1_campaigns_preview_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Registros a saltar para paginación.","default":0,"title":"Skip"},"description":"Registros a saltar para paginación."},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"description":"Máximo de registros a devolver en la previsualización.","default":100,"title":"Limit"},"description":"Máximo de registros a devolver en la previsualización."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CampaignCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PreviewRecipient"},"title":"Response Preview Campaign Recipients Api V1 Campaigns Preview Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/campaigns/preview/csv":{"post":{"tags":["Campaigns (One-Time)"],"summary":"Descargar CSV de la vista previa de la segmentación","description":"Genera y devuelve un CSV para descarga directa en el navegador con la misma\nlógica del preview (dedupe de contactos, POLITICA redondeada y skip=0).","operationId":"download_preview_csv_api_v1_campaigns_preview_csv_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CampaignCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/campaigns/":{"post":{"tags":["Campaigns (One-Time)"],"summary":"Create and launch a new campaign","description":"Creates, validates, and enqueues a new campaign in a single step.\n\n- If `scheduled_at` is provided, the campaign is scheduled for that time.\n- If `scheduled_at` is null, the campaign is enqueued for immediate execution.","operationId":"create_and_launch_campaign_api_v1_campaigns__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CampaignCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Campaign"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Campaigns (One-Time)"],"summary":"List all campaigns","description":"Retrieves a paginated list of all campaigns, with optional filters.","operationId":"get_all_campaigns_api_v1_campaigns__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Records to skip for pagination.","default":0,"title":"Skip"},"description":"Records to skip for pagination."},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"Maximum records to return.","default":100,"title":"Limit"},"description":"Maximum records to return."},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/CampaignStatus"},{"type":"null"}],"description":"Filter by campaign status.","title":"Status"},"description":"Filter by campaign status."},{"name":"channel_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/ChannelType"},{"type":"null"}],"description":"Filter by communication channel.","title":"Channel Type"},"description":"Filter by communication channel."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Campaign"},"title":"Response Get All Campaigns Api V1 Campaigns  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/campaigns/{campaign_id}":{"put":{"tags":["Campaigns (One-Time)"],"summary":"Update a scheduled campaign","description":"Updates the details of a campaign that is currently in 'SCHEDULED' status.\nThis allows for correcting errors or changing strategy before the campaign is sent.\nIt revokes the original scheduled task and creates a new one with the updated information.","operationId":"update_scheduled_campaign_api_v1_campaigns__campaign_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"campaign_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Campaign Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CampaignUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Campaign"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Campaigns (One-Time)"],"summary":"Eliminar campaña (revoca Celery si está programada)","description":"Elimina una campaña en estado DRAFT/SCHEDULED/CANCELED. Si está programada, se revoca la tarea de Celery\nantes de eliminarla para evitar ejecuciones huérfanas.","operationId":"delete_campaign_api_v1_campaigns__campaign_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"campaign_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Campaign Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/campaigns/launch-preview":{"post":{"tags":["Campaigns (One-Time)"],"summary":"Preview the launch of a campaign, checking for excluded contacts.","description":"Provides a preview of a campaign launch, including the number of contacts\nthat will be excluded based on the \"one message per day\" rule.","operationId":"launch_preview_api_v1_campaigns_launch_preview_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CampaignCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PreviewResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/campaigns/quota":{"get":{"tags":["Campaigns (One-Time)"],"summary":"Obtener cuotas mensuales del coordinador por canal","description":"Retorna para el usuario actual (coordinador) la capacidad total mensual, el usado y el saldo\ndel mes actual por canal. Si no hay límites configurados, devuelve null para capacidad/saldo.","operationId":"get_monthly_quota_api_v1_campaigns_quota_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/campaigns/quota/populate":{"post":{"tags":["Campaigns (One-Time)"],"summary":"[Admin] Retroalimentar cuota mensual desde SendLog histórico","description":"Calcula y pobla coordinator_monthly_usage basado en envíos históricos en SendLog.\nÚtil si la tabla está vacía por campañas anteriores a la implementación de cuotas.\nSolo procesa coordinadores con adminfo_code.","operationId":"populate_monthly_quota_from_sendlog_api_v1_campaigns_quota_populate_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"month","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mes en formato YYYY-MM; por defecto mes actual","title":"Month"},"description":"Mes en formato YYYY-MM; por defecto mes actual"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/campaigns/quota/admin/usage":{"get":{"tags":["Campaigns (One-Time)"],"summary":"[Admin] Uso mensual por coordinador y canal","description":"Devuelve una lista con el uso del mes por coordinador y canal.\nCampos: user_id, full_name, email, channel, used, capacity, remaining.","operationId":"get_admin_quota_usage_api_v1_campaigns_quota_admin_usage_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"month","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mes en formato YYYY-MM; por defecto mes actual","title":"Month"},"description":"Mes en formato YYYY-MM; por defecto mes actual"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/campaigns/history/{cedula}":{"get":{"tags":["Campaigns (One-Time)"],"summary":"Obtener historial de campañas para un destinatario","description":"Obtiene el historial de envíos de campañas para un destinatario específico.","operationId":"get_recipient_campaign_history_api_v1_campaigns_history__cedula__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cedula","in":"path","required":true,"schema":{"type":"string","title":"Cedula"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Número de página","default":1,"title":"Page"},"description":"Número de página"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Resultados por página","default":20,"title":"Limit"},"description":"Resultados por página"},{"name":"campaign_type","in":"query","required":false,"schema":{"type":"string","description":"Filtrar por tipo de campaña (ej. SMS, EMAIL)","title":"Campaign Type"},"description":"Filtrar por tipo de campaña (ej. SMS, EMAIL)"},{"name":"status","in":"query","required":false,"schema":{"type":"string","description":"Filtrar por estado del envío","title":"Status"},"description":"Filtrar por estado del envío"},{"name":"start_date","in":"query","required":false,"schema":{"type":"string","format":"date","description":"Fecha de inicio para el filtro (YYYY-MM-DD)","title":"Start Date"},"description":"Fecha de inicio para el filtro (YYYY-MM-DD)"},{"name":"end_date","in":"query","required":false,"schema":{"type":"string","format":"date","description":"Fecha de fin para el filtro (YYYY-MM-DD)","title":"End Date"},"description":"Fecha de fin para el filtro (YYYY-MM-DD)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CampaignHistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/campaigns/stats":{"get":{"tags":["Campaigns (One-Time)"],"summary":"Get campaign aggregated stats from materialized view","operationId":"get_campaign_stats_api_v1_campaigns_stats_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CampaignStats"},"title":"Response Get Campaign Stats Api V1 Campaigns Stats Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/campaigns/stats/refresh":{"post":{"tags":["Campaigns (One-Time)"],"summary":"Request a concurrent refresh of campaign stats view","operationId":"refresh_campaign_stats_api_v1_campaigns_stats_refresh_post","responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/communications/generate":{"post":{"tags":["Communications (Documents)"],"summary":"Generate a new communication document","description":"Creates a record for a new communication with all its data context,\nbut does not generate the physical document.","operationId":"create_communication_record_api_v1_communications_generate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunicationGenerateRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunicationGeneratedResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/communications/templates/upload-url":{"post":{"tags":["Communications (Documents)"],"summary":"Generate a signed URL for uploading a DOCX template","description":"Generates a signed URL that the frontend can use to directly upload a DOCX file to cloud storage. Returns the upload URL and a file identifier (GCS object name).","operationId":"generate_docx_upload_url_api_v1_communications_templates_upload_url_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"filename","in":"query","required":true,"schema":{"type":"string","description":"Original filename of the DOCX file.","title":"Filename"},"description":"Original filename of the DOCX file."},{"name":"content_type","in":"query","required":false,"schema":{"type":"string","description":"MIME type of the file.","default":"application/vnd.openxmlformats-officedocument.wordprocessingml.document","title":"Content Type"},"description":"MIME type of the file."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignedUploadUrlResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/communications/templates":{"post":{"tags":["Communications (Documents)"],"summary":"Create a new communication template","operationId":"create_communication_template_api_v1_communications_templates_post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunicationTemplateCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunicationTemplateInDB"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Communications (Documents)"],"summary":"List all communication templates","operationId":"list_communication_templates_api_v1_communications_templates_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":100,"title":"Limit"}},{"name":"template_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/CommunicationType"},{"type":"null"}],"description":"Filter by template type.","title":"Template Type"},"description":"Filter by template type."},{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/TemplateStatus"},{"type":"null"}],"description":"Filter by template status.","title":"Status Filter"},"description":"Filter by template status."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommunicationTemplateInDB"},"title":"Response List Communication Templates Api V1 Communications Templates Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/communications/templates/{template_id}":{"get":{"tags":["Communications (Documents)"],"summary":"Get a communication template by ID","operationId":"get_communication_template_api_v1_communications_templates__template_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Template Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunicationTemplateInDB"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Communications (Documents)"],"summary":"Update a communication template or add a new version","operationId":"update_communication_template_api_v1_communications_templates__template_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Template Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunicationTemplateUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunicationTemplateInDB"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/communications/templates/{template_id}/deactivate":{"patch":{"tags":["Communications (Documents)"],"summary":"Deactivate a communication template","operationId":"deactivate_communication_template_api_v1_communications_templates__template_id__deactivate_patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Template Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunicationTemplateInDB"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/communications/templates/{template_id}/fields":{"get":{"tags":["Communications (Documents)"],"summary":"List fields for a communication template","operationId":"get_template_fields_api_v1_communications_templates__template_id__fields_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Template Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommunicationTemplateFieldInDB"},"title":"Response Get Template Fields Api V1 Communications Templates  Template Id  Fields Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Communications (Documents)"],"summary":"Add a new field to a communication template","operationId":"add_template_field_api_v1_communications_templates__template_id__fields_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Template Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunicationTemplateFieldCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunicationTemplateFieldInDB"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/communications/templates/fields/{field_id}":{"put":{"tags":["Communications (Documents)"],"summary":"Update a field in a communication template","operationId":"update_template_field_api_v1_communications_templates_fields__field_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"field_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Field Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunicationTemplateFieldUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunicationTemplateFieldInDB"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Communications (Documents)"],"summary":"Delete a field from a communication template","operationId":"delete_template_field_api_v1_communications_templates_fields__field_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"field_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Field Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/communications/all":{"get":{"tags":["Communications (Documents)"],"summary":"List all generated communications","description":"Retrieves a list of all generated communications, with pagination.","operationId":"list_all_communications_api_v1_communications_all_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommunicationInDB"},"title":"Response List All Communications Api V1 Communications All Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/communications/{comm_id}":{"get":{"tags":["Communications (Documents)"],"summary":"Get a generated communication by ID","operationId":"get_generated_communication_api_v1_communications__comm_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"comm_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Comm Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunicationInDB"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/communications/client/{client_id}":{"get":{"tags":["Communications (Documents)"],"summary":"List generated communications for a client","operationId":"list_client_communications_api_v1_communications_client__client_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"client_id","in":"path","required":true,"schema":{"type":"string","title":"Client Id"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":100,"title":"Limit"}},{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/GeneratedCommunicationStatus"},{"type":"null"}],"description":"Filter by communication status.","title":"Status Filter"},"description":"Filter by communication status."},{"name":"channel_filter","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/CommunicationChannel"},{"type":"null"}],"description":"Filter by communication channel.","title":"Channel Filter"},"description":"Filter by communication channel."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommunicationInDB"},"title":"Response List Client Communications Api V1 Communications Client  Client Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/communications/history/{cedula}":{"get":{"tags":["Communications (Documents)"],"summary":"Obtener historial de comunicaciones unificado para un cliente","description":"Obtiene un historial paginado y unificado de todas las comunicaciones\n(documentos generados y campañas masivas) para una cédula específica.","operationId":"get_unified_communication_history_api_v1_communications_history__cedula__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cedula","in":"path","required":true,"schema":{"type":"string","title":"Cedula"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Número de página","default":1,"title":"Page"},"description":"Número de página"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Resultados por página","default":20,"title":"Limit"},"description":"Resultados por página"},{"name":"communication_type","in":"query","required":false,"schema":{"type":"string","description":"Filtrar por tipo de comunicación (DOCUMENTO, CAMPAÑA)","title":"Communication Type"},"description":"Filtrar por tipo de comunicación (DOCUMENTO, CAMPAÑA)"},{"name":"status","in":"query","required":false,"schema":{"type":"string","description":"Filtrar por estado del envío","title":"Status"},"description":"Filtrar por estado del envío"},{"name":"start_date","in":"query","required":false,"schema":{"type":"string","format":"date","description":"Fecha de inicio para el filtro (YYYY-MM-DD)","title":"Start Date"},"description":"Fecha de inicio para el filtro (YYYY-MM-DD)"},{"name":"end_date","in":"query","required":false,"schema":{"type":"string","format":"date","description":"Fecha de fin para el filtro (YYYY-MM-DD)","title":"End Date"},"description":"Fecha de fin para el filtro (YYYY-MM-DD)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunicationHistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/communications/{comm_id}/send":{"patch":{"tags":["Communications (Documents)"],"summary":"Generate, upload, and send a communication","description":"Final step: Generates the document for a communication, uploads it to cloud storage,\nand sends it through the specified channel to the given contact.","operationId":"send_communication_api_v1_communications__comm_id__send_patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"comm_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Comm Id"}},{"name":"channel","in":"query","required":true,"schema":{"$ref":"#/components/schemas/CommunicationChannel","description":"The channel to send the communication through."},"description":"The channel to send the communication through."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunicationSendRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunicationInDB"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/communications/legal/batches":{"post":{"tags":["Communications (Documents)"],"summary":"Create a new legal review batch","description":"Creates a new batch for legal review, grouping all communications of a specific type\nthat are in the 'PENDING_LEGAL_REVIEW' state.","operationId":"create_legal_review_batch_api_v1_communications_legal_batches_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegalReviewBatchCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegalReviewBatchSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/communications/legal/batches/{batch_id}/upload-review":{"post":{"tags":["Communications (Documents)"],"summary":"Upload a reviewed file for a legal batch","description":"Uploads a CSV/Excel file with the review status for a legal batch.\nThe service will process this file to update the status of each communication.","operationId":"upload_legal_review_file_api_v1_communications_legal_batches__batch_id__upload_review_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Batch Id"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_legal_review_file_api_v1_communications_legal_batches__batch_id__upload_review_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegalReviewUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/communications/legal/batches/{batch_id}/generate-correspondence":{"post":{"tags":["Communications (Documents)"],"summary":"Encola la generación de correspondencia para un lote","description":"Inicia una tarea asíncrona para generar los documentos de correspondencia\npara todas las comunicaciones en estado 'READY_FOR_GENERATION' dentro de un lote específico.\n\nEsta operación no es bloqueante. El endpoint responde inmediatamente\nindicando que la tarea ha sido aceptada para su procesamiento.","operationId":"generate_correspondence_for_batch_api_v1_communications_legal_batches__batch_id__generate_correspondence_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Batch Id"}}],"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/communications/legal/batches/{batch_id}/send":{"post":{"tags":["Communications (Documents)"],"summary":"Send correspondence for a generated legal batch","description":"Triggers the sending of all generated communications in a batch.\nThis is an asynchronous process.","operationId":"send_legal_correspondence_api_v1_communications_legal_batches__batch_id__send_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Batch Id"}}],"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/communications/clients/{client_id}/system-data":{"get":{"tags":["Communications (Documents)"],"summary":"Get client system data for form pre-filling","description":"Retrieves a dictionary of client data that is managed by the system (Adminfo).\nThis is used by the frontend to display read-only information in communication forms.","operationId":"get_client_system_data_api_v1_communications_clients__client_id__system_data_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"client_id","in":"path","required":true,"schema":{"type":"string","title":"Client Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Client System Data Api V1 Communications Clients  Client Id  System Data Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/communications/{comm_id}/preview":{"get":{"tags":["Communications (Documents)"],"summary":"Generate a document preview in memory","description":"Generates a document (PDF or DOCX) on-the-fly and streams it for preview.\nThe document is not stored permanently at this stage.","operationId":"preview_communication_document_api_v1_communications__comm_id__preview_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"comm_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Comm Id"}},{"name":"document_type","in":"query","required":false,"schema":{"type":"string","enum":["pdf","docx"],"default":"pdf","title":"Document Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/schedules/":{"post":{"tags":["Campaigns (Recurrent)"],"summary":"Crear una nueva campaña recurrente (Schedule)","description":"Crea una regla para una campaña recurrente.\nEl sistema de Celery Beat leerá estas reglas para lanzar las campañas\nautomáticamente según la `cron_expression`.","operationId":"create_schedule_api_v1_schedules__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CampaignScheduleCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CampaignSchedule"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Campaigns (Recurrent)"],"summary":"Listar todas las campañas recurrentes","description":"Obtiene una lista de todas las reglas de campañas recurrentes configuradas.","operationId":"get_all_schedules_api_v1_schedules__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CampaignSchedule"},"title":"Response Get All Schedules Api V1 Schedules  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/schedules/{schedule_id}":{"patch":{"tags":["Campaigns (Recurrent)"],"summary":"Actualizar una campaña recurrente","description":"Actualiza los detalles de un schedule. Permite cambiar el nombre,\nla expresión CRON, la plantilla, la audiencia o desactivarlo.","operationId":"update_schedule_api_v1_schedules__schedule_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"schedule_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Schedule Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CampaignScheduleUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CampaignSchedule"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Campaigns (Recurrent)"],"summary":"Eliminar una campaña recurrente","description":"Elimina permanentemente una regla de campaña recurrente.","operationId":"delete_schedule_api_v1_schedules__schedule_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"schedule_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Schedule Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/schedules/{schedule_id}/campaigns":{"get":{"tags":["Campaigns (Recurrent)"],"summary":"Listar campañas generadas por un schedule","description":"Obtiene una lista de todas las campañas que han sido generadas por un schedule recurrente.","operationId":"get_schedule_campaigns_api_v1_schedules__schedule_id__campaigns_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"schedule_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Schedule Id"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Campaign"},"title":"Response Get Schedule Campaigns Api V1 Schedules  Schedule Id  Campaigns Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/utils/update-employee":{"post":{"tags":["Utilities"],"summary":"Update Master Employee","description":"Updates or creates a master employee record (upsert).\n- Returns 201 Created if a new employee is created.\n- Returns 200 OK if an existing employee is updated.\n- Returns 200 OK with a specific message if no changes are detected.","operationId":"update_master_employee_api_v1_utils_update_employee_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MasterEmployeeUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/utils/employees/{cedula}":{"delete":{"tags":["Utilities"],"summary":"Delete Master Employee","description":"Deletes (hard delete) a master employee record by cedula.","operationId":"delete_master_employee_api_v1_utils_employees__cedula__delete","parameters":[{"name":"cedula","in":"path","required":true,"schema":{"type":"string","title":"Cedula"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/whatsapp/initiate":{"post":{"tags":["WhatsApp","WhatsApp"],"summary":"Initiate a WhatsApp conversation with a client","description":"Validates if a client exists and returns their active phone numbers.","operationId":"initiate_conversation_api_v1_whatsapp_initiate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InitiateConversationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InitiateConversationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/whatsapp/send_from_template":{"post":{"tags":["WhatsApp","WhatsApp"],"summary":"Send a templated WhatsApp message to a client","description":"Sends a templated message to a client and logs the interaction.","operationId":"send_from_template_api_v1_whatsapp_send_from_template_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendMessageFromTemplateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendMessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/whatsapp/send":{"post":{"tags":["WhatsApp","WhatsApp"],"summary":"Send a WhatsApp message","operationId":"send_message_api_v1_whatsapp_send_post","requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/TextMessage"},{"$ref":"#/components/schemas/TemplateMessage"},{"$ref":"#/components/schemas/InteractiveMessage"},{"$ref":"#/components/schemas/ImageMessage"},{"$ref":"#/components/schemas/AudioMessage"},{"$ref":"#/components/schemas/DocumentMessage"},{"$ref":"#/components/schemas/VideoMessage"},{"$ref":"#/components/schemas/StickerMessage"}],"title":"Message"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendMessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/whatsapp/media/upload_from_gcs":{"post":{"tags":["WhatsApp","WhatsApp"],"summary":"Upload media from GCS to Meta and return media_id","operationId":"upload_media_from_gcs_api_v1_whatsapp_media_upload_from_gcs_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaUploadFromGCSRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/whatsapp/media/generate_signed_upload_url":{"post":{"tags":["WhatsApp","WhatsApp"],"summary":"Generate a signed URL for client-side GCS upload","description":"Generates a V4 signed URL that allows the client to upload a file directly\nto GCS. The client must use the returned URL with a PUT request and the\nspecified Content-Type header.","operationId":"generate_signed_upload_url_api_v1_whatsapp_media_generate_signed_upload_url_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignedURLRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignedURLResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/whatsapp/message_templates":{"post":{"tags":["WhatsApp","WhatsApp Templates"],"summary":"Create a new message template","description":"Creates a new message template using the account ID from settings.","operationId":"create_template_api_v1_whatsapp_message_templates_post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplateCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["WhatsApp","WhatsApp Templates"],"summary":"Get message templates","description":"Retrieves a list of message templates for a WhatsApp Business Account.","operationId":"get_templates_api_v1_whatsapp_message_templates_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"fields","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated list of fields to retrieve.","title":"Fields"},"description":"Comma-separated list of fields to retrieve."},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","description":"The maximum number of templates to return.","default":10,"title":"Limit"},"description":"The maximum number of templates to return."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TemplateResponse"},"title":"Response Get Templates Api V1 Whatsapp Message Templates Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["WhatsApp","WhatsApp Templates"],"summary":"Delete a message template","description":"Deletes a message template by name or ID.","operationId":"delete_template_api_v1_whatsapp_message_templates_delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"The name of the template to delete.","title":"Name"},"description":"The name of the template to delete."},{"name":"hsm_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"The ID of the template to delete.","title":"Hsm Id"},"description":"The ID of the template to delete."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplateDeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/whatsapp/message_templates/{whatsapp_message_template_id}":{"patch":{"tags":["WhatsApp","WhatsApp Templates"],"summary":"Edit a message template","description":"Edits an existing message template.","operationId":"edit_template_api_v1_whatsapp_message_templates__whatsapp_message_template_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"whatsapp_message_template_id","in":"path","required":true,"schema":{"type":"string","description":"The ID of the message template.","title":"Whatsapp Message Template Id"},"description":"The ID of the message template."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplateUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/whatsapp/{whatsapp_message_template_id}":{"post":{"tags":["WhatsApp","WhatsApp Templates"],"summary":"Edit a message template (alias)","description":"Alias endpoint for editing an existing message template via POST.","operationId":"edit_template_alias_api_v1_whatsapp__whatsapp_message_template_id__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"whatsapp_message_template_id","in":"path","required":true,"schema":{"type":"string","description":"The ID of the message template.","title":"Whatsapp Message Template Id"},"description":"The ID of the message template."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplateUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/webhooks/sms/status":{"post":{"tags":["Webhooks"],"summary":"Receive Sms Status","description":"Endpoint para recibir notificaciones de estado de SMS desde el proveedor.\n\nValida la carga útil y la encola para procesamiento asíncrono.","operationId":"receive_sms_status_api_v1_webhooks_sms_status_post","responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/webhooks/email/events":{"post":{"tags":["Webhooks"],"summary":"Receive Email Event","description":"Endpoint para recibir eventos de email (ej. enviado, abierto, clic).","operationId":"receive_email_event_api_v1_webhooks_email_events_post","responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/webhooks/email/failed":{"post":{"tags":["Webhooks"],"summary":"Receive Failed Email Notification","description":"Endpoint para recibir notificaciones de envíos de email que han fallado de forma definitiva.","operationId":"receive_failed_email_notification_api_v1_webhooks_email_failed_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FailedEmailNotification"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/webhooks/meta/whatsapp":{"get":{"tags":["Webhooks"],"summary":"Verify Webhook","description":"Verifica el endpoint del webhook de Meta.","operationId":"verify_webhook_api_v1_webhooks_meta_whatsapp_get","parameters":[{"name":"hub.mode","in":"query","required":true,"schema":{"type":"string","title":"Hub.Mode"}},{"name":"hub.challenge","in":"query","required":true,"schema":{"type":"integer","title":"Hub.Challenge"}},{"name":"hub.verify_token","in":"query","required":true,"schema":{"type":"string","title":"Hub.Verify Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Webhooks"],"summary":"Receive Meta Notification","description":"Recibe notificaciones de eventos de WhatsApp desde Meta.","operationId":"receive_meta_notification_api_v1_webhooks_meta_whatsapp_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/conversations/":{"get":{"tags":["Conversations"],"summary":"Read Conversations","operationId":"read_conversations_api_v1_conversations__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ConversationList"},"title":"Response Read Conversations Api V1 Conversations  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conversations/{conversation_id}":{"get":{"tags":["Conversations"],"summary":"Read Conversation","operationId":"read_conversation_api_v1_conversations__conversation_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"integer","title":"Conversation Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Conversation"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conversations/{conversation_id}/assign/{user_id}":{"post":{"tags":["Conversations"],"summary":"Assign Conversation To User","operationId":"assign_conversation_to_user_api_v1_conversations__conversation_id__assign__user_id__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"integer","title":"Conversation Id"}},{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Conversation"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conversations/{conversation_id}/tags":{"post":{"tags":["Conversations"],"summary":"Add Tag To Conversation","operationId":"add_tag_to_conversation_api_v1_conversations__conversation_id__tags_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"integer","title":"Conversation Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Conversation"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conversations/{conversation_id}/reply":{"post":{"tags":["Conversations"],"summary":"Reply To Conversation","operationId":"reply_to_conversation_api_v1_conversations__conversation_id__reply_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"integer","title":"Conversation Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/TextMessage"},{"$ref":"#/components/schemas/TemplateMessage"},{"$ref":"#/components/schemas/InteractiveMessage"},{"$ref":"#/components/schemas/ImageMessage"},{"$ref":"#/components/schemas/AudioMessage"},{"$ref":"#/components/schemas/DocumentMessage"},{"$ref":"#/components/schemas/VideoMessage"},{"$ref":"#/components/schemas/StickerMessage"}],"title":"Message"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Reply To Conversation Api V1 Conversations  Conversation Id  Reply Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conversations/{conversation_id}/reply/audio-from-gcs":{"post":{"tags":["Conversations"],"summary":"Reply With Audio From Gcs","operationId":"reply_with_audio_from_gcs_api_v1_conversations__conversation_id__reply_audio_from_gcs_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"integer","title":"Conversation Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaUploadFromGCSRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Reply With Audio From Gcs Api V1 Conversations  Conversation Id  Reply Audio From Gcs Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conversations/{conversation_id}/reply/document-from-gcs":{"post":{"tags":["Conversations"],"summary":"Reply With Document From Gcs","operationId":"reply_with_document_from_gcs_api_v1_conversations__conversation_id__reply_document_from_gcs_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"integer","title":"Conversation Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaUploadFromGCSRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Reply With Document From Gcs Api V1 Conversations  Conversation Id  Reply Document From Gcs Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conversations/{conversation_id}/reply/image-from-gcs":{"post":{"tags":["Conversations"],"summary":"Reply With Image From Gcs","operationId":"reply_with_image_from_gcs_api_v1_conversations__conversation_id__reply_image_from_gcs_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"integer","title":"Conversation Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaUploadFromGCSRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Reply With Image From Gcs Api V1 Conversations  Conversation Id  Reply Image From Gcs Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conversations/{conversation_id}/reply/video-from-gcs":{"post":{"tags":["Conversations"],"summary":"Reply With Video From Gcs","operationId":"reply_with_video_from_gcs_api_v1_conversations__conversation_id__reply_video_from_gcs_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"integer","title":"Conversation Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaUploadFromGCSRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Reply With Video From Gcs Api V1 Conversations  Conversation Id  Reply Video From Gcs Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conversations/{conversation_id}/reply/sticker-from-gcs":{"post":{"tags":["Conversations"],"summary":"Reply With Sticker From Gcs","operationId":"reply_with_sticker_from_gcs_api_v1_conversations__conversation_id__reply_sticker_from_gcs_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"integer","title":"Conversation Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaUploadFromGCSRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Reply With Sticker From Gcs Api V1 Conversations  Conversation Id  Reply Sticker From Gcs Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conversations/signed-upload":{"post":{"tags":["Conversations"],"summary":"Create Signed Upload Url","operationId":"create_signed_upload_url_api_v1_conversations_signed_upload_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignedUploadRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Create Signed Upload Url Api V1 Conversations Signed Upload Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/conversations/{conversation_id}/messages/{message_id}/media/meta":{"get":{"tags":["Conversations"],"summary":"Get Message Media Meta","operationId":"get_message_media_meta_api_v1_conversations__conversation_id__messages__message_id__media_meta_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"integer","title":"Conversation Id"}},{"name":"message_id","in":"path","required":true,"schema":{"type":"string","title":"Message Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Message Media Meta Api V1 Conversations  Conversation Id  Messages  Message Id  Media Meta Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conversations/{conversation_id}/messages/{message_id}/media":{"get":{"tags":["Conversations"],"summary":"Download Message Media","operationId":"download_message_media_api_v1_conversations__conversation_id__messages__message_id__media_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"integer","title":"Conversation Id"}},{"name":"message_id","in":"path","required":true,"schema":{"type":"string","title":"Message Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conversations/{conversation_id}/messages/{message_id}/media/signed-url":{"get":{"tags":["Conversations"],"summary":"Get Message Media Signed Url","operationId":"get_message_media_signed_url_api_v1_conversations__conversation_id__messages__message_id__media_signed_url_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"integer","title":"Conversation Id"}},{"name":"message_id","in":"path","required":true,"schema":{"type":"string","title":"Message Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Message Media Signed Url Api V1 Conversations  Conversation Id  Messages  Message Id  Media Signed Url Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conversations/{conversation_id}/read":{"patch":{"tags":["Conversations"],"summary":"Mark Conversation As Read","operationId":"mark_conversation_as_read_api_v1_conversations__conversation_id__read_patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"integer","title":"Conversation Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Mark Conversation As Read Api V1 Conversations  Conversation Id  Read Patch"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conversations/{conversation_id}/unread":{"patch":{"tags":["Conversations"],"summary":"Mark Conversation As Unread","operationId":"mark_conversation_as_unread_api_v1_conversations__conversation_id__unread_patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"integer","title":"Conversation Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Mark Conversation As Unread Api V1 Conversations  Conversation Id  Unread Patch"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/staff-contacts/":{"put":{"tags":["Staff Contacts"],"summary":"Upsert Staff Contact","operationId":"upsert_staff_contact_api_v1_staff_contacts__put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StaffContactCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StaffContactSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/staff-contacts/bulk":{"post":{"tags":["Staff Contacts"],"summary":"Carga masiva de contactos del staff (CSV)","description":"Carga masiva (upsert) de contactos del staff a partir de un archivo CSV.\n\nDetalles importantes:\n\n- Requiere rol: Admin o Coordinador\n- Columnas requeridas: `adminfo`, `cel_renovar`, `extension_3cx`, `coordinador`\n- Separador soportado: coma \",\" o punto y coma \";\" (se detecta automáticamente)\n- Codificación recomendada: UTF-8 (se maneja BOM y se intenta latin-1 si falla)\n- Dedupe: si un `adminfo` aparece repetido, se conserva la última ocurrencia\n- Borrado previo: si en el CSV aparecen códigos de `coordinador`, se eliminan\n  previamente los registros existentes de esos coordinadores antes del upsert\n\nRespuesta:\n\n- `rows`: cantidad de filas válidas procesadas tras deduplicación\n- `deleted`: cantidad de registros eliminados por coordinador\n- `upserted`: cantidad de filas insertadas/actualizadas\n\nEjemplos de cabecera CSV:\n\n- Con comas: `adminfo,cel_renovar,extension_3cx,coordinador`\n- Con punto y coma: `adminfo;cel_renovar;extension_3cx;coordinador`","operationId":"bulk_upsert_staff_contacts_api_v1_staff_contacts_bulk_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_bulk_upsert_staff_contacts_api_v1_staff_contacts_bulk_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/payment-sheets/upload":{"post":{"tags":["Payment Sheets"],"summary":"Upload Payment Sheet","operationId":"upload_payment_sheet_api_v1_payment_sheets_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_payment_sheet_api_v1_payment_sheets_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentSheetIngestResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/payment-sheets/enviar-recordatorios-pago":{"post":{"tags":["Payment Sheets"],"summary":"Enviar Recordatorios Pago","description":"Genera una base CSV para recordatorios de pago y la envía por correo.\nCambios:\n- Si se incluyen teléfonos, elimina filas sin teléfono y deduplica por número a nivel global.\n- Opcionalmente envía los mensajes por SMS y registra en `send_log` para anti-duplicados.\n- Agrupa `payment_sheet_entries` por `cedula` y suma `valor_pagado` (alias: valor_recuperado_total).\n- Agrupa `proyeccion_data` por `Nit` y suma `valor por recuperar` (alias: valor_por_recuperar_total) y toma la fecha de compromiso más antigua.\n- Segmenta por fecha de compromiso: AYER (< hoy), HOY (== hoy), MAÑANA (== mañana).\n- Permite pasar IDs de plantillas para AYER/HOY/MAÑANA; soportan variables del maestro y {fecha_compromiso}.\n- Calcula `pendiente_pago = valor_por_recuperar_total - valor_recuperado_total`.\n- Excluye si `pendiente_pago` es menor al 10% de `valor_por_recuperar_total`.\n- Envía CSV con columnas: cedula, valor_por_recuperar, valor_recuperado, pendiente_pago, fecha_compromiso, mensaje_a_enviar\n  y opcionalmente telefono_sms (una fila por número activo).","operationId":"enviar_recordatorios_pago_api_v1_payment_sheets_enviar_recordatorios_pago_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"incluir_telefonos","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Incluir Telefonos"}},{"name":"enviar_sms","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Enviar Sms"}},{"name":"template_ayer_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Template Ayer Id"}},{"name":"template_hoy_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Template Hoy Id"}},{"name":"template_manana_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Template Manana Id"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"type":"object","additionalProperties":true},{"type":"null"}],"description":"Opcional: parámetros también aceptados por JSON.","title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payment-sheets/vencidos_mismo_mes":{"post":{"tags":["Payment Sheets"],"summary":"Enviar Recordatorios Vencidos Mismo Mes","description":"Genera una base CSV para recordatorios de pago de vencidos en el mismo mes y la envía por correo.\n- Agrupa `payment_sheet_entries` por `cedula` y suma `valor_pagado` (valor_recuperado_total).\n- Agrupa `proyeccion_data` por `Nit` y suma `valor por recuperar` (valor_por_recuperar_total), usando la fecha de compromiso más antigua.\n- Segmenta por fecha de compromiso: desde el día 1 del mes actual hasta dos días antes de hoy.\n- Calcula `pendiente_pago = valor_por_recuperar_total - valor_recuperado_total`.\n- Excluye si `pendiente_pago` es menor al 10% de `valor_por_recuperar_total`.\n- Opcionalmente, si se incluyen teléfonos, filtra filas sin teléfono, deduplica y envía SMS.","operationId":"enviar_recordatorios_vencidos_mismo_mes_api_v1_payment_sheets_vencidos_mismo_mes_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"incluir_telefonos","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Incluir Telefonos"}},{"name":"enviar_sms","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Enviar Sms"}},{"name":"template_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Template Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payment-sheets/vencidos_meses_anteriores":{"post":{"tags":["Payment Sheets"],"summary":"Enviar Recordatorios Vencidos Meses Anteriores","description":"Genera una base CSV para recordatorios de pago de vencidos en meses anteriores\n(fecha de compromiso anterior al primer día del mes actual) y la envía por correo.\n\n- Agrupa `payment_sheet_entries` por `cedula` y suma `valor_pagado` (valor_recuperado_total).\n- Agrupa `proyeccion_data` por `Nit` y suma `valor por recuperar` (valor_por_recuperar_total), usando la fecha de compromiso más antigua.\n- Filtra por fecha de compromiso: < inicio del mes actual.\n- Calcula `pendiente_pago = valor_por_recuperar_total - valor_recuperado_total`.\n- Excluye si `pendiente_pago` es menor al 10% de `valor_por_recuperar_total`.\n- Opcionalmente, si se incluyen teléfonos, filtra filas sin teléfono, deduplica y envía SMS.","operationId":"enviar_recordatorios_vencidos_meses_anteriores_api_v1_payment_sheets_vencidos_meses_anteriores_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"incluir_telefonos","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Incluir Telefonos"}},{"name":"enviar_sms","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Enviar Sms"}},{"name":"template_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Template Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/eps-records/upload":{"post":{"tags":["EPS Records"],"summary":"Upload Eps Records","operationId":"upload_eps_records_api_v1_eps_records_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_eps_records_api_v1_eps_records_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EpsIngestResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/work-plans/upload":{"post":{"tags":["Work Plans"],"summary":"Upload Work Plans","operationId":"upload_work_plans_api_v1_work_plans_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_work_plans_api_v1_work_plans_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkPlanIngestResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/automations/automations/journeys":{"post":{"tags":["Automations","automations"],"summary":"Create Journey","operationId":"create_journey_api_v1_automations_automations_journeys_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Create Journey Api V1 Automations Automations Journeys Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/send-log-report":{"get":{"tags":["Reports"],"summary":"Generate and download or email send log report","description":"Generate a CSV report of send logs with optional filters.\nCan download directly or send via email.","operationId":"get_send_log_report_api_v1_reports_send_log_report_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by campaign creator user ID","title":"User Id"},"description":"Filter by campaign creator user ID"},{"name":"campaign_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by specific campaign ID","title":"Campaign Id"},"description":"Filter by specific campaign ID"},{"name":"channel_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/ChannelType"},{"type":"null"}],"description":"Filter by communication channel","title":"Channel Type"},"description":"Filter by communication channel"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Start date (YYYY-MM-DD)","title":"Start Date"},"description":"Start date (YYYY-MM-DD)"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"End date (YYYY-MM-DD)","title":"End Date"},"description":"End date (YYYY-MM-DD)"},{"name":"system_origin","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by system origin from master obligations","title":"System Origin"},"description":"Filter by system origin from master obligations"},{"name":"action","in":"query","required":false,"schema":{"$ref":"#/components/schemas/SendLogReportAction","description":"Action: 'download' or 'email'","default":"download"},"description":"Action: 'download' or 'email'"},{"name":"email","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Email address for report (required if action=email)","title":"Email"},"description":"Email address for report (required if action=email)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/contacts-lookup":{"post":{"tags":["Reports"],"summary":"Upload CSV of cedulas and return active contacts for a channel","description":"Receive a CSV file with a single column of cedulas and a `channel` query param.\nReturn a CSV with two columns: `cedula,contact_info` for all ACTIVE contacts\nin `client_contacts` for the given channel. One row per contact found.","operationId":"contacts_lookup_api_v1_reports_contacts_lookup_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"channel","in":"query","required":true,"schema":{"$ref":"#/components/schemas/ChannelType","description":"Channel to filter contacts: SMS, WHATSAPP, EMAIL"},"description":"Channel to filter contacts: SMS, WHATSAPP, EMAIL"}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_contacts_lookup_api_v1_reports_contacts_lookup_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/client-names-lookup":{"post":{"tags":["Reports"],"summary":"Upload CSV of cedulas and return client names","description":"Receive a CSV file with a single column of cedulas.\nReturn a CSV with two columns: `cedula,nombre` from `master_clients`.\nPreserves input order and includes all cedulas (nombre vacío si no existe).","operationId":"client_names_lookup_api_v1_reports_client_names_lookup_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_client_names_lookup_api_v1_reports_client_names_lookup_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/obligation-urls/upload":{"post":{"tags":["Obligation URLs"],"summary":"Upload Obligation Urls","operationId":"upload_obligation_urls_api_v1_obligation_urls_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_obligation_urls_api_v1_obligation_urls_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ObligationUrlIngestResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/obligation-urls/{obligacion}":{"get":{"tags":["Obligation URLs"],"summary":"Get Obligation Url","operationId":"get_obligation_url_api_v1_obligation_urls__obligacion__get","parameters":[{"name":"obligacion","in":"path","required":true,"schema":{"type":"string","title":"Obligacion"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ObligationUrlResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/obligation-urls/by-cedula/{cedula}":{"get":{"tags":["Obligation URLs"],"summary":"Get Obligation Url By Cedula","operationId":"get_obligation_url_by_cedula_api_v1_obligation_urls_by_cedula__cedula__get","parameters":[{"name":"cedula","in":"path","required":true,"schema":{"type":"string","title":"Cedula"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ObligationUrlResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payment-reminder-histories/upload":{"post":{"tags":["Payment Reminder Histories"],"summary":"Upload Payment Reminder History","operationId":"upload_payment_reminder_history_api_v1_payment_reminder_histories_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_payment_reminder_history_api_v1_payment_reminder_histories_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentReminderHistoryIngestResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/client-info/resultado-gestor/{cedula}":{"get":{"tags":["Client Info"],"summary":"Get Latest Resultado Gestor","description":"Obtiene el último resultado de gestión para un cliente, basado en la fecha\nde la última gestión prejurídica de todas sus obligaciones.","operationId":"get_latest_resultado_gestor_api_v1_client_info_resultado_gestor__cedula__get","parameters":[{"name":"cedula","in":"path","required":true,"schema":{"type":"string","title":"Cedula"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultadoGestorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/client-info/compromisos/{cedula}":{"get":{"tags":["Client Info"],"summary":"Get Pending Compromisos","description":"Obtiene los compromisos de pago pendientes para un cliente hasta fin de mes.","operationId":"get_pending_compromisos_api_v1_client_info_compromisos__cedula__get","parameters":[{"name":"cedula","in":"path","required":true,"schema":{"type":"string","title":"Cedula"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompromisosResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/client-info/obligaciones/{cedula}":{"get":{"tags":["Client Info"],"summary":"Get Obligaciones Summary","description":"Obtiene un resumen de las obligaciones de un cliente, incluyendo el\nsistema de origen de cada una.","operationId":"get_obligaciones_summary_api_v1_client_info_obligaciones__cedula__get","parameters":[{"name":"cedula","in":"path","required":true,"schema":{"type":"string","title":"Cedula"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ObligacionesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/condonation-policies/seed":{"post":{"tags":["Condonation Policies"],"summary":"Seed Condonation Policy","description":"Ejecuta el script para poblar la base de datos con la política de condonación inicial.","operationId":"seed_condonation_policy_api_v1_condonation_policies_seed_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/condonation-policies/calculate":{"get":{"tags":["Condonation Policies"],"summary":"Calculate Condonation Percentage","description":"Calcula el porcentaje de condonación de capital según la política activa.","operationId":"calculate_condonation_percentage_api_v1_condonation_policies_calculate_get","parameters":[{"name":"dias_mora","in":"query","required":true,"schema":{"type":"integer","title":"Dias Mora"}},{"name":"plazo_meses","in":"query","required":true,"schema":{"type":"integer","title":"Plazo Meses"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"number","title":"Response Calculate Condonation Percentage Api V1 Condonation Policies Calculate Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Condonation Policies"],"summary":"Calculate Payment Plans Endpoint","description":"Calcula los planes de pago de condonación para una lista de obligaciones.","operationId":"calculate_payment_plans_endpoint_api_v1_condonation_policies_calculate_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ObligationInput"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CondonationCalculationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/employees/":{"post":{"tags":["Employees","Empleados"],"summary":"Crear un nuevo empleado","description":"Registra la información fundamental de un nuevo empleado en el sistema. Requiere permisos de Talento Humano.","operationId":"create_employee_api_v1_employees__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmployeeCreateSchema"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmployeeResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Employees","Employees"],"summary":"Get a paginated list of employees","description":"Retrieves a list of employees with optional filtering, sorting, and pagination.","operationId":"get_employees_api_v1_employees__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"estado","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/EstadoEmpleado"},{"type":"null"}],"description":"Filter by employee status","title":"Estado"},"description":"Filter by employee status"},{"name":"area","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by area","title":"Area"},"description":"Filter by area"},{"name":"cargo","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by cargo","title":"Cargo"},"description":"Filter by cargo"},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","description":"Field to sort by","default":"nombre","title":"Sort By"},"description":"Field to sort by"},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","description":"Sort order (asc or desc)","default":"asc","title":"Sort Order"},"description":"Sort order (asc or desc)"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Page size","default":20,"title":"Size"},"description":"Page size"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_EmployeeResponseSchema_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/employees/{cedula}":{"put":{"tags":["Employees","Empleados"],"summary":"Actualizar un empleado existente","description":"Actualiza la información de un empleado existente en el sistema. Requiere permisos de Talento Humano.","operationId":"update_employee_api_v1_employees__cedula__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cedula","in":"path","required":true,"schema":{"type":"string","title":"Cedula"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmployeePartialUpdateSchema"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmployeeResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Employees","Employees"],"summary":"Get a single employee by cedula","description":"Retrieves a single employee by their cedula.","operationId":"get_employee_api_v1_employees__cedula__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cedula","in":"path","required":true,"schema":{"type":"string","title":"Cedula"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmployeeResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/employees/retire":{"post":{"tags":["Employees","Employees"],"summary":"Request employee retirement","description":"Requests the retirement of an employee, updating their status and retirement information.","operationId":"request_employee_retirement_api_v1_employees_retire_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RetirementRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmployeeResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/employees/{cedula}/juridico/approve":{"post":{"tags":["Employees","Employees"],"summary":"Approve employee contract","description":"Approves an employee's contract, changing their status to ACTIVE.","operationId":"approve_employee_api_v1_employees__cedula__juridico_approve_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cedula","in":"path","required":true,"schema":{"type":"string","title":"Cedula"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmployeeResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/employees/{cedula}/juridico/reject":{"post":{"tags":["Employees","Employees"],"summary":"Reject employee contract","description":"Rejects an employee's contract, setting their status to RECHAZO_JURIDICO.","operationId":"reject_employee_api_v1_employees__cedula__juridico_reject_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cedula","in":"path","required":true,"schema":{"type":"string","title":"Cedula"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JuridicoRejectionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmployeeResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/employees/{cedula}/retire/approve":{"post":{"tags":["Employees","Employees"],"summary":"Approve employee retirement","description":"Approves an employee's retirement, changing their status to RETIRADO.","operationId":"approve_retirement_api_v1_employees__cedula__retire_approve_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cedula","in":"path","required":true,"schema":{"type":"string","title":"Cedula"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmployeeResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/employees/{cedula}/retire/reject":{"post":{"tags":["Employees","Employees"],"summary":"Reject employee retirement","description":"Rejects an employee's retirement, setting their status to RECHAZO_RETIRO_JURIDICO.","operationId":"reject_retirement_api_v1_employees__cedula__retire_reject_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cedula","in":"path","required":true,"schema":{"type":"string","title":"Cedula"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RetirementRejectionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmployeeResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/master-clients/":{"get":{"tags":["Master Clients"],"summary":"Get Master Clients","description":"Obtiene una lista paginada de clientes maestros con pre-filtrado dinámico\nbasado en el rol del usuario.","operationId":"get_master_clients_api_v1_master_clients__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"search","in":"query","required":false,"schema":{"type":"string","description":"Búsqueda genérica por nombre_completo y numero_documento.","title":"Search"},"description":"Búsqueda genérica por nombre_completo y numero_documento."},{"name":"nombre_completo","in":"query","required":false,"schema":{"type":"string","description":"Filtrar por nombre completo (coincidencia parcial).","title":"Nombre Completo"},"description":"Filtrar por nombre completo (coincidencia parcial)."},{"name":"numero_documento","in":"query","required":false,"schema":{"type":"string","description":"Filtrar por número de documento (coincidencia exacta).","title":"Numero Documento"},"description":"Filtrar por número de documento (coincidencia exacta)."},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Número de la página a devolver.","default":1,"title":"Page"},"description":"Número de la página a devolver."},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Cantidad de registros por página.","default":20,"title":"Limit"},"description":"Cantidad de registros por página."},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","description":"Campo por el cual ordenar.","default":"nombre_completo","title":"Sort By"},"description":"Campo por el cual ordenar."},{"name":"order","in":"query","required":false,"schema":{"type":"string","description":"Dirección del orden (asc o desc).","default":"asc","title":"Order"},"description":"Dirección del orden (asc o desc)."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MasterClientListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/performance/summary":{"get":{"tags":["Performance"],"summary":"Get Performance Summary","description":"Calcula y devuelve un resumen de rendimiento para el usuario autenticado.\nEl rol (gestor, coordinador, o admin) se determina automáticamente.","operationId":"get_performance_summary_api_v1_performance_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PerformanceSummary"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/":{"get":{"summary":"Read Root","operationId":"read_root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Action":{"properties":{"buttons":{"items":{"$ref":"#/components/schemas/app__schemas__whatsapp__Button"},"type":"array","title":"Buttons"}},"type":"object","required":["buttons"],"title":"Action"},"AudienceConditionV2":{"properties":{"field":{"type":"string","title":"Field"},"operator":{"type":"string","enum":["eq","neq","gt","gte","lt","lte","in","not_in","contains","between","is_null","is_not_null"],"title":"Operator"},"value":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Value"}},"type":"object","required":["field","operator"],"title":"AudienceConditionV2"},"AudienceCountResponse":{"properties":{"match_count":{"type":"integer","title":"Match Count"}},"type":"object","required":["match_count"],"title":"AudienceCountResponse","description":"Respuesta para el contador de audiencia en tiempo real."},"AudienceFilter":{"properties":{"name":{"type":"string","maxLength":100,"minLength":3,"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"id":{"type":"string","format":"uuid","title":"Id"},"rules":{"items":{"$ref":"#/components/schemas/AudienceFilterRule"},"type":"array","title":"Rules","default":[]}},"type":"object","required":["name","id"],"title":"AudienceFilter"},"AudienceFilterCreate":{"properties":{"name":{"type":"string","maxLength":100,"minLength":3,"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"rules":{"items":{"$ref":"#/components/schemas/AudienceFilterRuleCreate"},"type":"array","title":"Rules"}},"type":"object","required":["name","rules"],"title":"AudienceFilterCreate"},"AudienceFilterDefinitionV2-Input":{"properties":{"groupsLogic":{"type":"string","enum":["AND","OR"],"title":"Groupslogic","default":"OR"},"filterGroups":{"items":{"$ref":"#/components/schemas/AudienceGroupV2"},"type":"array","title":"Filtergroups"},"globalConditions":{"items":{"$ref":"#/components/schemas/AudienceConditionV2"},"type":"array","title":"Globalconditions","default":[]}},"type":"object","required":["filterGroups"],"title":"AudienceFilterDefinitionV2"},"AudienceFilterDefinitionV2-Output":{"properties":{"groupsLogic":{"type":"string","enum":["AND","OR"],"title":"Groupslogic","default":"OR"},"filterGroups":{"items":{"$ref":"#/components/schemas/AudienceGroupV2"},"type":"array","title":"Filtergroups"},"globalConditions":{"items":{"$ref":"#/components/schemas/AudienceConditionV2"},"type":"array","title":"Globalconditions","default":[]}},"type":"object","required":["filterGroups"],"title":"AudienceFilterDefinitionV2"},"AudienceFilterRule":{"properties":{"field_name":{"type":"string","title":"Field Name","description":"Nombre de la columna en la tabla master_clients."},"operator":{"type":"string","title":"Operator","description":"Operador de comparación. Válidos: CONTAINS, BETWEEN, GTE, IN, NOT_IN, LT, IS_NOT_NULL, NEQ, EQ, LTE, IS_NULL, GT"},"value":{"type":"string","title":"Value","description":"Valor para la comparación. Para 'IN'/'NOT_IN', usar comas: 'val1,val2'."},"id":{"type":"integer","title":"Id"}},"type":"object","required":["field_name","operator","value","id"],"title":"AudienceFilterRule"},"AudienceFilterRuleCreate":{"properties":{"field_name":{"type":"string","title":"Field Name","description":"Nombre de la columna en la tabla master_clients."},"operator":{"type":"string","title":"Operator","description":"Operador de comparación. Válidos: CONTAINS, BETWEEN, GTE, IN, NOT_IN, LT, IS_NOT_NULL, NEQ, EQ, LTE, IS_NULL, GT"},"value":{"type":"string","title":"Value","description":"Valor para la comparación. Para 'IN'/'NOT_IN', usar comas: 'val1,val2'."}},"type":"object","required":["field_name","operator","value"],"title":"AudienceFilterRuleCreate"},"AudienceFilterSimple":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"definition":{"$ref":"#/components/schemas/AudienceSimpleDefinition"}},"type":"object","required":["id","name","definition"],"title":"AudienceFilterSimple"},"AudienceFilterSimpleCreate":{"properties":{"name":{"type":"string","maxLength":100,"minLength":3,"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"definition":{"$ref":"#/components/schemas/AudienceSimpleDefinition"}},"type":"object","required":["name","definition"],"title":"AudienceFilterSimpleCreate"},"AudienceFilterV2":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"definition":{"$ref":"#/components/schemas/AudienceFilterDefinitionV2-Output"}},"type":"object","required":["id","name","definition"],"title":"AudienceFilterV2"},"AudienceFilterV2Create":{"properties":{"name":{"type":"string","maxLength":100,"minLength":3,"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"definition":{"$ref":"#/components/schemas/AudienceFilterDefinitionV2-Input"}},"type":"object","required":["name","definition"],"title":"AudienceFilterV2Create"},"AudienceGroupV2":{"properties":{"logic":{"type":"string","enum":["AND","OR"],"title":"Logic"},"conditions":{"items":{"$ref":"#/components/schemas/AudienceConditionV2"},"type":"array","title":"Conditions"}},"type":"object","required":["logic","conditions"],"title":"AudienceGroupV2"},"AudienceSimpleDefinition":{"properties":{"general":{"items":{"$ref":"#/components/schemas/AudienceConditionV2"},"type":"array","title":"General","default":[]},"exclude":{"items":{"items":{"$ref":"#/components/schemas/AudienceConditionV2"},"type":"array"},"type":"array","title":"Exclude","default":[]}},"type":"object","title":"AudienceSimpleDefinition","description":"Definición simplificada:\n- general: lista de condiciones combinadas con AND\n- exclude: lista de listas; cada sublista se combina con AND y luego se unen por OR; se excluye el OR total"},"AudioMessage":{"properties":{"messaging_product":{"type":"string","const":"whatsapp","title":"Messaging Product"},"recipient_type":{"anyOf":[{"type":"string","const":"individual"},{"type":"null"}],"title":"Recipient Type","default":"individual"},"to":{"type":"string","title":"To"},"type":{"type":"string","const":"audio","title":"Type"},"audio":{"$ref":"#/components/schemas/AudioObject"}},"type":"object","required":["messaging_product","to","type","audio"],"title":"AudioMessage"},"AudioObject":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"},"link":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Link"}},"type":"object","title":"AudioObject"},"Body":{"properties":{"type":{"type":"string","const":"BODY","title":"Type","default":"BODY"},"text":{"type":"string","title":"Text","description":"Body text with placeholders like {{1}}, {{2}}."},"example":{"anyOf":[{"$ref":"#/components/schemas/BodyTextExample"},{"type":"null"}],"description":"Example for body variables."}},"type":"object","required":["text"],"title":"Body"},"BodyTextExample":{"properties":{"body_text":{"items":{"items":{"type":"string"},"type":"array"},"type":"array","title":"Body Text","description":"Sample values for body variables."}},"type":"object","required":["body_text"],"title":"BodyTextExample"},"Body_bulk_upsert_staff_contacts_api_v1_staff_contacts_bulk_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"CSV con columnas: adminfo,cel_renovar,extension_3cx,coordinador (separador , o ;)"}},"type":"object","required":["file"],"title":"Body_bulk_upsert_staff_contacts_api_v1_staff_contacts_bulk_post"},"Body_client_names_lookup_api_v1_reports_client_names_lookup_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"CSV with a single column of cedulas (may include header)"}},"type":"object","required":["file"],"title":"Body_client_names_lookup_api_v1_reports_client_names_lookup_post"},"Body_contacts_lookup_api_v1_reports_contacts_lookup_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"CSV with a single column of cedulas (may include header)"}},"type":"object","required":["file"],"title":"Body_contacts_lookup_api_v1_reports_contacts_lookup_post"},"Body_login_for_access_token_api_v1_auth_login_token_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","format":"password","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"format":"password","title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_for_access_token_api_v1_auth_login_token_post"},"Body_upload_eps_records_api_v1_eps_records_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"CSV con columnas: obligacion, cedula, plan_de_trabajo, tipo_afiliado_eps, eps (puede traer solo un subconjunto)"}},"type":"object","required":["file"],"title":"Body_upload_eps_records_api_v1_eps_records_upload_post"},"Body_upload_legal_review_file_api_v1_communications_legal_batches__batch_id__upload_review_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_legal_review_file_api_v1_communications_legal_batches__batch_id__upload_review_post"},"Body_upload_obligation_urls_api_v1_obligation_urls_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"CSV con columnas: obligacion, url"}},"type":"object","required":["file"],"title":"Body_upload_obligation_urls_api_v1_obligation_urls_upload_post"},"Body_upload_payment_reminder_history_api_v1_payment_reminder_histories_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"CSV de historial de recordatorios de pago"}},"type":"object","required":["file"],"title":"Body_upload_payment_reminder_history_api_v1_payment_reminder_histories_upload_post"},"Body_upload_payment_sheet_api_v1_payment_sheets_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"CSV de sábana de pagos"}},"type":"object","required":["file"],"title":"Body_upload_payment_sheet_api_v1_payment_sheets_upload_post"},"Body_upload_work_plans_api_v1_work_plans_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"CSV con columnas: obligacion, plan_de_trabajo"}},"type":"object","required":["file"],"title":"Body_upload_work_plans_api_v1_work_plans_upload_post"},"Buttons":{"properties":{"type":{"type":"string","const":"BUTTONS","title":"Type","default":"BUTTONS"},"buttons":{"items":{"$ref":"#/components/schemas/app__schemas__templates_meta__Button"},"type":"array","title":"Buttons","description":"List of buttons."}},"type":"object","required":["buttons"],"title":"Buttons"},"CalculationInputs":{"properties":{"total_capital":{"type":"number","title":"Total Capital"},"days_in_arrears":{"type":"integer","title":"Days In Arrears"}},"type":"object","required":["total_capital","days_in_arrears"],"title":"CalculationInputs"},"Campaign":{"properties":{"name":{"type":"string","maxLength":150,"minLength":5,"title":"Name","description":"Nombre descriptivo de la campaña."},"channel_type":{"$ref":"#/components/schemas/ChannelType","description":"Canal de comunicación para la campaña."},"id":{"type":"string","format":"uuid","title":"Id"},"status":{"$ref":"#/components/schemas/CampaignStatus"},"creator":{"$ref":"#/components/schemas/User"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"message_template_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Message Template Id"},"audience_filter_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Audience Filter Id"},"scheduled_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Scheduled At"},"celery_task_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Celery Task Id"},"target_role":{"anyOf":[{"$ref":"#/components/schemas/TargetRole"},{"type":"null"}]},"codebtor_strategy":{"anyOf":[{"$ref":"#/components/schemas/CoDebtorStrategy"},{"type":"null"}]},"special_variable_value":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Special Variable Value"}},"type":"object","required":["name","channel_type","id","status","creator","created_at","updated_at"],"title":"Campaign","description":"Esquema completo para devolver una campaña desde la API.\nIncluye todos los campos, relaciones y metadatos."},"CampaignCreate":{"properties":{"name":{"type":"string","maxLength":150,"minLength":5,"title":"Name","description":"Nombre descriptivo de la campaña."},"channel_type":{"$ref":"#/components/schemas/ChannelType","description":"Canal de comunicación para la campaña."},"message_template_id":{"type":"string","format":"uuid","title":"Message Template Id","description":"ID de la plantilla APROBADA a usar."},"audience_filter_id":{"type":"string","format":"uuid","title":"Audience Filter Id","description":"ID del filtro de audiencia que define el público."},"target_role":{"$ref":"#/components/schemas/TargetRole","description":"Define el rol del público objetivo de la campaña (DEUDOR o CODEUDOR)."},"codebtor_strategy":{"anyOf":[{"$ref":"#/components/schemas/CoDebtorStrategy"},{"type":"null"}],"description":"Estrategia de envío si el objetivo son los codeudores. Requerido si target_role es CODEUDOR."},"scheduled_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Scheduled At","description":"Para envíos únicos programados. Si es NULO, se asume envío inmediato."},"source_schedule_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Source Schedule Id","description":"ID del schedule recurrente que origina esta campaña."},"special_variable_value":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Special Variable Value","description":"Valor para la variable especial de la plantilla, si existe."}},"type":"object","required":["name","channel_type","message_template_id","audience_filter_id","target_role"],"title":"CampaignCreate","description":"Esquema para crear una nueva campaña con todos los datos necesarios,\nincluyendo la selección del público objetivo y la programación."},"CampaignHistoryItem":{"properties":{"campaign_id":{"type":"string","format":"uuid","title":"Campaign Id"},"campaign_name":{"type":"string","title":"Campaign Name"},"campaign_type":{"type":"string","title":"Campaign Type"},"message_template_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Message Template Id"},"status":{"type":"string","title":"Status"},"sent_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sent At"},"recipient_contact_info":{"type":"string","title":"Recipient Contact Info"}},"type":"object","required":["campaign_id","campaign_name","campaign_type","message_template_id","status","sent_at","recipient_contact_info"],"title":"CampaignHistoryItem","description":"Esquema para un único registro en el historial de campañas de un destinatario."},"CampaignHistoryResponse":{"properties":{"data":{"items":{"$ref":"#/components/schemas/CampaignHistoryItem"},"type":"array","title":"Data"},"pagination":{"$ref":"#/components/schemas/app__schemas__communication_history__PaginationInfo"}},"type":"object","required":["data","pagination"],"title":"CampaignHistoryResponse","description":"Esquema de respuesta para el historial de campañas de un destinatario."},"CampaignSchedule":{"properties":{"name":{"type":"string","maxLength":150,"minLength":5,"title":"Name","description":"Nombre descriptivo del schedule."},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Descripción opcional."},"cron_expression":{"type":"string","title":"Cron Expression","description":"Expresión CRON válida. Ej: '0 9 * * 1' (Lunes a las 9:00 AM)."},"is_active":{"type":"boolean","title":"Is Active","description":"Indica si el schedule está activo.","default":true},"start_date":{"type":"string","format":"date-time","title":"Start Date","description":"Fecha de inicio de la recurrencia."},"end_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Date","description":"Fecha de fin de la recurrencia. Nulo para indefinido."},"channel_type":{"$ref":"#/components/schemas/ChannelType"},"message_template_id":{"type":"string","format":"uuid","title":"Message Template Id"},"audience_filter_id":{"type":"string","format":"uuid","title":"Audience Filter Id"},"target_role":{"$ref":"#/components/schemas/TargetRole"},"codebtor_strategy":{"anyOf":[{"$ref":"#/components/schemas/CoDebtorStrategy"},{"type":"null"}]},"id":{"type":"string","format":"uuid","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"last_run_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Run At"},"next_run_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Next Run At"},"created_by_user_id":{"type":"string","format":"uuid","title":"Created By User Id"}},"type":"object","required":["name","cron_expression","channel_type","message_template_id","audience_filter_id","target_role","id","created_at","updated_at","created_by_user_id"],"title":"CampaignSchedule","description":"Esquema completo para devolver un schedule desde la API."},"CampaignScheduleCreate":{"properties":{"name":{"type":"string","maxLength":150,"minLength":5,"title":"Name","description":"Nombre descriptivo del schedule."},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Descripción opcional."},"cron_expression":{"type":"string","title":"Cron Expression","description":"Expresión CRON válida. Ej: '0 9 * * 1' (Lunes a las 9:00 AM)."},"is_active":{"type":"boolean","title":"Is Active","description":"Indica si el schedule está activo.","default":true},"start_date":{"type":"string","format":"date-time","title":"Start Date","description":"Fecha de inicio de la recurrencia."},"end_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Date","description":"Fecha de fin de la recurrencia. Nulo para indefinido."},"channel_type":{"$ref":"#/components/schemas/ChannelType"},"message_template_id":{"type":"string","format":"uuid","title":"Message Template Id"},"audience_filter_id":{"type":"string","format":"uuid","title":"Audience Filter Id"},"target_role":{"$ref":"#/components/schemas/TargetRole"},"codebtor_strategy":{"anyOf":[{"$ref":"#/components/schemas/CoDebtorStrategy"},{"type":"null"}]}},"type":"object","required":["name","cron_expression","channel_type","message_template_id","audience_filter_id","target_role"],"title":"CampaignScheduleCreate"},"CampaignScheduleUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":150,"minLength":5},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"cron_expression":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cron Expression"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"start_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Date"},"end_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Date"},"message_template_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Message Template Id"},"audience_filter_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Audience Filter Id"},"target_role":{"anyOf":[{"$ref":"#/components/schemas/TargetRole"},{"type":"null"}]},"codebtor_strategy":{"anyOf":[{"$ref":"#/components/schemas/CoDebtorStrategy"},{"type":"null"}]}},"type":"object","title":"CampaignScheduleUpdate","description":"Esquema para actualizar un schedule. Todos los campos son opcionales."},"CampaignStats":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"name":{"type":"string","title":"Name"},"status":{"type":"string","title":"Status"},"channel_type":{"type":"string","title":"Channel Type"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"enviados":{"type":"integer","title":"Enviados"},"entregados":{"type":"integer","title":"Entregados"},"leidos":{"type":"integer","title":"Leidos"}},"type":"object","required":["id","name","status","channel_type","updated_at","enviados","entregados","leidos"],"title":"CampaignStats"},"CampaignStatus":{"type":"string","enum":["DRAFT","PENDING_APPROVAL","SCHEDULED","SENDING","COMPLETED","ERROR","CANCELED"],"title":"CampaignStatus"},"CampaignUpdate":{"properties":{"name":{"type":"string","maxLength":150,"minLength":5,"title":"Name","description":"Nombre descriptivo de la campaña."},"channel_type":{"$ref":"#/components/schemas/ChannelType","description":"Canal de comunicación para la campaña."},"message_template_id":{"type":"string","format":"uuid","title":"Message Template Id","description":"ID de la plantilla APROBADA a usar."},"audience_filter_id":{"type":"string","format":"uuid","title":"Audience Filter Id","description":"ID del filtro de audiencia que define el público."},"target_role":{"$ref":"#/components/schemas/TargetRole","description":"Define el rol del público objetivo de la campaña (DEUDOR o CODEUDOR)."},"codebtor_strategy":{"anyOf":[{"$ref":"#/components/schemas/CoDebtorStrategy"},{"type":"null"}],"description":"Estrategia de envío si el objetivo son los codeudores."},"scheduled_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Scheduled At","description":"Nueva fecha de programación. Si es NULO, se enviará inmediatamente."}},"type":"object","required":["name","channel_type","message_template_id","audience_filter_id","target_role"],"title":"CampaignUpdate","description":"Esquema para actualizar una campaña programada.\nPermite cambiar la plantilla, la audiencia, la fecha y la estrategia."},"ChannelType":{"type":"string","enum":["SMS","WHATSAPP","EMAIL","CALL"],"title":"ChannelType"},"CheckIdentifierResponse":{"properties":{"status":{"type":"string","title":"Status"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"}},"type":"object","required":["status"],"title":"CheckIdentifierResponse","description":"Respuesta para el endpoint de verificación."},"CoDebtorStrategy":{"type":"string","enum":["FIRST","ALL"],"title":"CoDebtorStrategy"},"CommunicationChannel":{"type":"string","enum":["EMAIL","WHATSAPP"],"title":"CommunicationChannel"},"CommunicationGenerateRequest":{"properties":{"template_id":{"type":"string","format":"uuid","title":"Template Id","description":"ID de la plantilla de comunicación a utilizar."},"client_id":{"type":"string","maxLength":255,"minLength":1,"title":"Client Id","description":"ID del cliente (cédula/NIT) para quien se genera la comunicación."},"form_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Form Data","description":"Datos adicionales del formulario si la plantilla es de tipo FORM."}},"type":"object","required":["template_id","client_id"],"title":"CommunicationGenerateRequest"},"CommunicationGeneratedResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"client_id":{"type":"string","title":"Client Id"},"template_version_id":{"type":"string","format":"uuid","title":"Template Version Id"},"status":{"$ref":"#/components/schemas/GeneratedCommunicationStatus"},"generated_docx_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Generated Docx Path","description":"Ruta al archivo .docx generado (puede ser temporal)."},"generated_pdf_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Generated Pdf Path","description":"Ruta al archivo .pdf generado y almacenado."},"form_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Form Data","description":"Datos del formulario utilizados para la generación."},"generated_by_user_id":{"type":"string","format":"uuid","title":"Generated By User Id"},"approved_by_user_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Approved By User Id"},"sent_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sent At"},"channel":{"anyOf":[{"$ref":"#/components/schemas/CommunicationChannel"},{"type":"null"}]},"legal_review_batch_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Legal Review Batch Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","client_id","template_version_id","status","generated_by_user_id","created_at"],"title":"CommunicationGeneratedResponse"},"CommunicationHistoryItem":{"properties":{"id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"integer"}],"title":"Id","description":"ID del registro (UUID para documentos, int para campañas)."},"communication_type":{"type":"string","enum":["DOCUMENTO","CAMPAÑA"],"title":"Communication Type","description":"Tipo de comunicación."},"channel":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Channel","description":"Canal de envío (EMAIL, WHATSAPP, SMS)."},"status":{"type":"string","title":"Status","description":"Estado del envío."},"sent_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sent At","description":"Fecha y hora del envío."},"details":{"type":"string","title":"Details","description":"Detalles de la comunicación (nombre de plantilla o campaña)."},"recipient_contact":{"type":"string","title":"Recipient Contact","description":"Información de contacto del destinatario."}},"type":"object","required":["id","communication_type","status","details","recipient_contact"],"title":"CommunicationHistoryItem","description":"Esquema para un único registro en el historial de comunicaciones unificado."},"CommunicationHistoryResponse":{"properties":{"data":{"items":{"$ref":"#/components/schemas/CommunicationHistoryItem"},"type":"array","title":"Data"},"pagination":{"$ref":"#/components/schemas/app__schemas__communication_history__PaginationInfo"}},"type":"object","required":["data","pagination"],"title":"CommunicationHistoryResponse","description":"Esquema de respuesta para el historial de comunicaciones unificado y paginado."},"CommunicationInDB":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"client_id":{"type":"string","title":"Client Id"},"template_version_id":{"type":"string","format":"uuid","title":"Template Version Id"},"status":{"$ref":"#/components/schemas/GeneratedCommunicationStatus"},"generated_docx_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Generated Docx Path","description":"Ruta al archivo .docx generado (puede ser temporal)."},"generated_pdf_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Generated Pdf Path","description":"Ruta al archivo .pdf generado y almacenado."},"form_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Form Data","description":"Datos del formulario utilizados para la generación."},"generated_by_user_id":{"type":"string","format":"uuid","title":"Generated By User Id"},"approved_by_user_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Approved By User Id"},"sent_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sent At"},"channel":{"anyOf":[{"$ref":"#/components/schemas/CommunicationChannel"},{"type":"null"}]},"legal_review_batch_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Legal Review Batch Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"generator":{"$ref":"#/components/schemas/User"},"approver":{"anyOf":[{"$ref":"#/components/schemas/User"},{"type":"null"}]},"template_version":{"$ref":"#/components/schemas/CommunicationTemplateVersionInDB"}},"type":"object","required":["id","client_id","template_version_id","status","generated_by_user_id","created_at","generator","template_version"],"title":"CommunicationInDB"},"CommunicationSendRequest":{"properties":{"recipient_contact":{"type":"string","title":"Recipient Contact","description":"El dato de contacto específico (email o teléfono) al que se enviará la comunicación."},"sender_password":{"anyOf":[{"type":"string","format":"password","writeOnly":true},{"type":"null"}],"title":"Sender Password","description":"Contraseña del correo del gestor para envío por SMTP. Requerido si el canal es EMAIL."}},"type":"object","required":["recipient_contact"],"title":"CommunicationSendRequest"},"CommunicationTemplateCreate":{"properties":{"name":{"type":"string","maxLength":255,"minLength":3,"title":"Name","description":"Nombre de la plantilla."},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"Descripción de la plantilla."},"type":{"$ref":"#/components/schemas/CommunicationType","description":"Tipo de comunicación (AUTOMATIC, FORM, LEGAL)."},"legal_communication_type":{"anyOf":[{"$ref":"#/components/schemas/LegalCommunicationType"},{"type":"null"}],"description":"Tipo de comunicación legal, si aplica."},"template_file_path":{"type":"string","title":"Template File Path","description":"Ruta al archivo .docx de la plantilla en el almacenamiento."}},"type":"object","required":["name","type","template_file_path"],"title":"CommunicationTemplateCreate"},"CommunicationTemplateFieldCreate":{"properties":{"field_name":{"type":"string","maxLength":100,"minLength":1,"title":"Field Name","description":"Nombre de la variable en la plantilla (ej. 'nombre_cliente')."},"field_label":{"type":"string","maxLength":255,"minLength":1,"title":"Field Label","description":"Etiqueta para mostrar en el formulario (ej. 'Nombre del Cliente')."},"field_type":{"$ref":"#/components/schemas/TemplateFieldType","description":"Tipo de dato del campo (TEXT, NUMBER, DATE)."},"is_required":{"type":"boolean","title":"Is Required","description":"Indica si el campo es obligatorio.","default":true}},"type":"object","required":["field_name","field_label","field_type"],"title":"CommunicationTemplateFieldCreate"},"CommunicationTemplateFieldInDB":{"properties":{"field_name":{"type":"string","maxLength":100,"minLength":1,"title":"Field Name","description":"Nombre de la variable en la plantilla (ej. 'nombre_cliente')."},"field_label":{"type":"string","maxLength":255,"minLength":1,"title":"Field Label","description":"Etiqueta para mostrar en el formulario (ej. 'Nombre del Cliente')."},"field_type":{"$ref":"#/components/schemas/TemplateFieldType","description":"Tipo de dato del campo (TEXT, NUMBER, DATE)."},"is_required":{"type":"boolean","title":"Is Required","description":"Indica si el campo es obligatorio.","default":true},"id":{"type":"string","format":"uuid","title":"Id"},"template_id":{"type":"string","format":"uuid","title":"Template Id"}},"type":"object","required":["field_name","field_label","field_type","id","template_id"],"title":"CommunicationTemplateFieldInDB"},"CommunicationTemplateFieldUpdate":{"properties":{"field_name":{"anyOf":[{"type":"string","maxLength":100,"minLength":1},{"type":"null"}],"title":"Field Name","description":"Nombre de la variable en la plantilla (ej. 'nombre_cliente')."},"field_label":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Field Label","description":"Etiqueta para mostrar en el formulario (ej. 'Nombre del Cliente')."},"field_type":{"anyOf":[{"$ref":"#/components/schemas/TemplateFieldType"},{"type":"null"}],"description":"Tipo de dato del campo (TEXT, NUMBER, DATE)."},"is_required":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Required","description":"Indica si el campo es obligatorio."}},"type":"object","title":"CommunicationTemplateFieldUpdate"},"CommunicationTemplateInDB":{"properties":{"name":{"type":"string","maxLength":255,"minLength":3,"title":"Name","description":"Nombre de la plantilla."},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"Descripción de la plantilla."},"type":{"$ref":"#/components/schemas/CommunicationType","description":"Tipo de comunicación (AUTOMATIC, FORM, LEGAL)."},"legal_communication_type":{"anyOf":[{"$ref":"#/components/schemas/LegalCommunicationType"},{"type":"null"}],"description":"Tipo de comunicación legal, si aplica."},"id":{"type":"string","format":"uuid","title":"Id"},"status":{"$ref":"#/components/schemas/TemplateStatus"},"template_file_path":{"type":"string","title":"Template File Path"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["name","type","id","status","template_file_path","created_at","updated_at"],"title":"CommunicationTemplateInDB"},"CommunicationTemplateUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255,"minLength":3},{"type":"null"}],"title":"Name","description":"Nombre de la plantilla."},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"Descripción de la plantilla."},"type":{"anyOf":[{"$ref":"#/components/schemas/CommunicationType"},{"type":"null"}],"description":"Tipo de comunicación (AUTOMATIC, FORM, LEGAL)."},"legal_communication_type":{"anyOf":[{"$ref":"#/components/schemas/LegalCommunicationType"},{"type":"null"}],"description":"Tipo de comunicación legal, si aplica."},"status":{"anyOf":[{"$ref":"#/components/schemas/TemplateStatus"},{"type":"null"}],"description":"Estado de la plantilla (ACTIVE, INACTIVE)."},"new_template_file_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"New Template File Path","description":"Nueva ruta al archivo .docx para una nueva versión."},"change_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Change Description","description":"Descripción del cambio para la nueva versión de la plantilla."}},"type":"object","title":"CommunicationTemplateUpdate"},"CommunicationTemplateVersionInDB":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"template_id":{"type":"string","format":"uuid","title":"Template Id"},"version_number":{"type":"integer","title":"Version Number"},"change_description":{"type":"string","title":"Change Description"},"template_file_path":{"type":"string","title":"Template File Path"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"creator":{"$ref":"#/components/schemas/User"}},"type":"object","required":["id","template_id","version_number","change_description","template_file_path","created_at","creator"],"title":"CommunicationTemplateVersionInDB"},"CommunicationType":{"type":"string","enum":["AUTOMATIC","FORM","LEGAL"],"title":"CommunicationType"},"Component-Input":{"properties":{"type":{"type":"string","title":"Type"},"format":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Format"},"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text"},"example":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Example"},"buttons":{"anyOf":[{"items":{"$ref":"#/components/schemas/app__schemas__templates_meta__Button"},"type":"array"},{"type":"null"}],"title":"Buttons"}},"type":"object","required":["type"],"title":"Component"},"Component-Output":{"properties":{"type":{"type":"string","title":"Type"},"format":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Format"},"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text"},"example":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Example"},"buttons":{"anyOf":[{"items":{"$ref":"#/components/schemas/app__schemas__templates_meta__Button"},"type":"array"},{"type":"null"}],"title":"Buttons"}},"type":"object","required":["type"],"title":"Component"},"CompromisoPago":{"properties":{"fecha_compromiso":{"type":"string","format":"date","title":"Fecha Compromiso"},"valor_por_recuperar":{"type":"number","title":"Valor Por Recuperar"}},"type":"object","required":["fecha_compromiso","valor_por_recuperar"],"title":"CompromisoPago"},"CompromisosResponse":{"properties":{"compromisos":{"items":{"$ref":"#/components/schemas/CompromisoPago"},"type":"array","title":"Compromisos"}},"type":"object","required":["compromisos"],"title":"CompromisosResponse"},"CondonationCalculationResponse":{"properties":{"calculation_inputs":{"$ref":"#/components/schemas/CalculationInputs"},"payment_plans":{"items":{"$ref":"#/components/schemas/PaymentPlan"},"type":"array","title":"Payment Plans"}},"type":"object","required":["calculation_inputs","payment_plans"],"title":"CondonationCalculationResponse"},"Conversation":{"properties":{"customer_phone_number":{"type":"string","title":"Customer Phone Number"},"status":{"type":"string","title":"Status"},"read_status":{"type":"string","title":"Read Status"},"client_cedula":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Cedula"},"chat_title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chat Title"},"selected_obligation_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Selected Obligation Code"},"selected_system_origin":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Selected System Origin"},"is_ambiguous_contact":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Ambiguous Contact"},"id":{"type":"integer","title":"Id"},"assigned_to_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assigned To Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"last_client_message_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Client Message At"},"assigned_to":{"anyOf":[{"$ref":"#/components/schemas/User"},{"type":"null"}]},"tags":{"items":{"$ref":"#/components/schemas/Tag"},"type":"array","title":"Tags","default":[]},"messages":{"items":{"$ref":"#/components/schemas/IncomingMessage"},"type":"array","title":"Messages","default":[]},"total_messages":{"type":"integer","title":"Total Messages","default":0},"has_more":{"type":"boolean","title":"Has More","default":false}},"type":"object","required":["customer_phone_number","status","read_status","id","assigned_to_id","created_at","updated_at","assigned_to"],"title":"Conversation"},"ConversationList":{"properties":{"customer_phone_number":{"type":"string","title":"Customer Phone Number"},"status":{"type":"string","title":"Status"},"read_status":{"type":"string","title":"Read Status"},"client_cedula":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Cedula"},"chat_title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chat Title"},"selected_obligation_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Selected Obligation Code"},"selected_system_origin":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Selected System Origin"},"is_ambiguous_contact":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Ambiguous Contact"},"id":{"type":"integer","title":"Id"},"assigned_to_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assigned To Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"last_client_message_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Client Message At"},"assigned_to":{"anyOf":[{"$ref":"#/components/schemas/User"},{"type":"null"}]},"tags":{"items":{"$ref":"#/components/schemas/Tag"},"type":"array","title":"Tags","default":[]},"messages":{"items":{"$ref":"#/components/schemas/MessageSchema"},"type":"array","title":"Messages","default":[]}},"type":"object","required":["customer_phone_number","status","read_status","id","assigned_to_id","created_at","updated_at","assigned_to"],"title":"ConversationList"},"DocumentMessage":{"properties":{"messaging_product":{"type":"string","const":"whatsapp","title":"Messaging Product"},"recipient_type":{"anyOf":[{"type":"string","const":"individual"},{"type":"null"}],"title":"Recipient Type","default":"individual"},"to":{"type":"string","title":"To"},"type":{"type":"string","const":"document","title":"Type"},"document":{"$ref":"#/components/schemas/DocumentObject"}},"type":"object","required":["messaging_product","to","type","document"],"title":"DocumentMessage"},"DocumentObject":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"},"link":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Link"},"caption":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Caption"},"filename":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filename"}},"type":"object","title":"DocumentObject"},"EmployeeCreateSchema":{"properties":{"cedula":{"type":"string","title":"Cedula"},"nombre_completo":{"type":"string","title":"Nombre Completo"},"area":{"type":"string","title":"Area"},"cargo":{"type":"string","title":"Cargo"},"jefe_inmediato":{"type":"string","title":"Jefe Inmediato"},"tipo_contrato":{"$ref":"#/components/schemas/TipoContrato"},"estado":{"$ref":"#/components/schemas/EstadoEmpleado"},"ciudad":{"type":"string","title":"Ciudad"},"fecha_ingreso":{"type":"string","format":"date","title":"Fecha Ingreso"},"fecha_nacimiento":{"type":"string","format":"date","title":"Fecha Nacimiento"},"genero":{"type":"string","title":"Genero"},"lugar":{"type":"string","title":"Lugar"},"direccion_residencia":{"type":"string","title":"Direccion Residencia"},"eps":{"type":"string","title":"Eps"},"fondo_pensiones":{"type":"string","title":"Fondo Pensiones"},"arl":{"type":"string","title":"Arl"},"celular":{"type":"string","title":"Celular"},"correo_personal":{"type":"string","format":"email","title":"Correo Personal"},"contacto_emergencia_nombre":{"type":"string","title":"Contacto Emergencia Nombre"},"contacto_emergencia_telefono":{"type":"string","title":"Contacto Emergencia Telefono"},"cantidad_hijos":{"type":"integer","minimum":0.0,"title":"Cantidad Hijos"},"temporal":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Temporal"},"fecha_fin_contrato_temporal":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Fecha Fin Contrato Temporal"},"adminfo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Adminfo"},"correo_renovar":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Correo Renovar"}},"type":"object","required":["cedula","nombre_completo","area","cargo","jefe_inmediato","tipo_contrato","estado","ciudad","fecha_ingreso","fecha_nacimiento","genero","lugar","direccion_residencia","eps","fondo_pensiones","arl","celular","correo_personal","contacto_emergencia_nombre","contacto_emergencia_telefono","cantidad_hijos"],"title":"EmployeeCreateSchema"},"EmployeePartialUpdateSchema":{"properties":{"correo_renovar":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Correo Renovar"},"extension_3cx":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Extension 3Cx"},"cola":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cola"},"adminfo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Adminfo"},"asignacion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Asignacion"},"jefe_inmediato":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Jefe Inmediato"}},"type":"object","title":"EmployeePartialUpdateSchema"},"EmployeeResponseSchema":{"properties":{"cedula":{"type":"string","title":"Cedula"},"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nombre"},"area":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Area"},"cargo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cargo"},"jefe_inmediato":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Jefe Inmediato"},"contrato":{"anyOf":[{"$ref":"#/components/schemas/TipoContrato"},{"type":"null"}]},"estado":{"anyOf":[{"$ref":"#/components/schemas/EstadoEmpleado"},{"type":"null"}]},"ciudad":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ciudad"},"fecha_ingreso":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Fecha Ingreso"},"fecha_nacimiento":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Fecha Nacimiento"},"genero":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Genero"},"lugar":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lugar"},"direccion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Direccion"},"eps":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Eps"},"pensiones":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pensiones"},"arl":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Arl"},"celular":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Celular"},"correo_personal":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Correo Personal"},"contacto_emergencia":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contacto Emergencia"},"telefono_emergencia":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telefono Emergencia"},"hijos_cantidad":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Hijos Cantidad"},"temporal":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Temporal"},"fecha_fin_contrato_temporal":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Fecha Fin Contrato Temporal"},"adminfo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Adminfo"},"correo_renovar":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Correo Renovar"},"extension_3cx":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Extension 3Cx"},"cola_3cx":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cola 3Cx"}},"type":"object","required":["cedula"],"title":"EmployeeResponseSchema"},"EpsIngestResult":{"properties":{"rows":{"type":"integer","title":"Rows"},"affected":{"type":"integer","title":"Affected"}},"type":"object","required":["rows","affected"],"title":"EpsIngestResult"},"EstadoEmpleado":{"type":"string","enum":["PENDIENTE_APROBACION_JURIDICO","ACTIVO","EN_PROCESO_DE_CONTRATACION","PENDIENTE_RETIRO_JURIDICO","RETIRADO","RECHAZO_JURIDICO","RECHAZO_RETIRO_JURIDICO"],"title":"EstadoEmpleado"},"FailedEmailNotification":{"properties":{"DeliveryId":{"type":"string","title":"Deliveryid"},"CustomerId":{"type":"integer","title":"Customerid"},"Status":{"type":"string","title":"Status"},"Description":{"type":"string","title":"Description"}},"type":"object","required":["DeliveryId","CustomerId","Status","Description"],"title":"FailedEmailNotification","description":"Esquema para notificaciones de envío de email fallido."},"FirstLoginCreatePasswordRequest":{"properties":{"identifier":{"type":"string","title":"Identifier"},"password":{"type":"string","minLength":8,"title":"Password"}},"type":"object","required":["identifier","password"],"title":"FirstLoginCreatePasswordRequest","description":"Esquema para crear la contraseña en el primer login."},"Footer":{"properties":{"type":{"type":"string","const":"FOOTER","title":"Type","default":"FOOTER"},"text":{"type":"string","title":"Text","description":"Footer text."}},"type":"object","required":["text"],"title":"Footer"},"GeneratedCommunicationStatus":{"type":"string","enum":["DRAFT","PENDING_LEGAL_REVIEW","READY_FOR_GENERATION","GENERATION_IN_PROGRESS","GENERATION_FAILED","PENDING_LEGAL_APPROVAL","APPROVED","REJECTED","READY_FOR_SENDING","SENDING_FAILED","SENT"],"title":"GeneratedCommunicationStatus"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Header":{"properties":{"type":{"type":"string","const":"HEADER","title":"Type","default":"HEADER"},"format":{"type":"string","title":"Format","description":"Header format (TEXT, IMAGE, DOCUMENT, VIDEO)."},"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text","description":"Header text. Required if format is TEXT."},"example":{"anyOf":[{"$ref":"#/components/schemas/HeaderTextExample"},{"type":"null"}],"description":"Example for header variables."}},"type":"object","required":["format"],"title":"Header"},"HeaderTextExample":{"properties":{"header_text":{"items":{"type":"string"},"type":"array","title":"Header Text","description":"Sample text for the header."}},"type":"object","required":["header_text"],"title":"HeaderTextExample"},"ImageMessage":{"properties":{"messaging_product":{"type":"string","const":"whatsapp","title":"Messaging Product"},"recipient_type":{"anyOf":[{"type":"string","const":"individual"},{"type":"null"}],"title":"Recipient Type","default":"individual"},"to":{"type":"string","title":"To"},"type":{"type":"string","const":"image","title":"Type"},"image":{"$ref":"#/components/schemas/ImageObject"}},"type":"object","required":["messaging_product","to","type","image"],"title":"ImageMessage"},"ImageObject":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"},"link":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Link"},"caption":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Caption"}},"type":"object","title":"ImageObject"},"IncomingMessage":{"properties":{"message_id":{"type":"string","title":"Message Id"},"from_phone_number":{"type":"string","title":"From Phone Number"},"message_type":{"type":"string","title":"Message Type"},"body":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Body"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"},"media_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Media Id"},"media_mime_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Media Mime Type"},"media_sha256":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Media Sha256"},"media_file_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Media File Size"},"storage_bucket":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Storage Bucket"},"storage_object":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Storage Object"},"storage_gs_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Storage Gs Url"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"id":{"type":"integer","title":"Id"},"conversation_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Conversation Id"},"status":{"type":"string","title":"Status"}},"type":"object","required":["message_id","from_phone_number","message_type","timestamp","id","status"],"title":"IncomingMessage"},"InitiateConversationRequest":{"properties":{"cedula":{"type":"string","title":"Cedula","description":"Cédula of the client to validate."}},"type":"object","required":["cedula"],"title":"InitiateConversationRequest","description":"Request body to initiate a conversation by validating the client."},"InitiateConversationResponse":{"properties":{"active_numbers":{"items":{"type":"string"},"type":"array","title":"Active Numbers","description":"List of active phone numbers for the client."}},"type":"object","required":["active_numbers"],"title":"InitiateConversationResponse","description":"Response body with the client's active phone numbers."},"InteractiveBodyObject":{"properties":{"text":{"type":"string","title":"Text"}},"type":"object","required":["text"],"title":"InteractiveBodyObject"},"InteractiveMessage":{"properties":{"messaging_product":{"type":"string","const":"whatsapp","title":"Messaging Product"},"recipient_type":{"anyOf":[{"type":"string","const":"individual"},{"type":"null"}],"title":"Recipient Type","default":"individual"},"to":{"type":"string","title":"To"},"type":{"type":"string","const":"interactive","title":"Type"},"interactive":{"$ref":"#/components/schemas/InteractiveObject"}},"type":"object","required":["messaging_product","to","type","interactive"],"title":"InteractiveMessage"},"InteractiveObject":{"properties":{"type":{"type":"string","const":"button","title":"Type"},"body":{"$ref":"#/components/schemas/InteractiveBodyObject"},"action":{"$ref":"#/components/schemas/Action"}},"type":"object","required":["type","body","action"],"title":"InteractiveObject"},"JuridicoRejectionRequest":{"properties":{"motivo":{"type":"string","title":"Motivo"}},"type":"object","required":["motivo"],"title":"JuridicoRejectionRequest"},"LegalCommunicationType":{"type":"string","enum":["DERECHO_PETICION","COPIA_DEMANDA"],"title":"LegalCommunicationType"},"LegalReviewBatchCreate":{"properties":{"communication_type":{"$ref":"#/components/schemas/LegalCommunicationType","description":"Tipo de comunicación legal para el lote."}},"type":"object","required":["communication_type"],"title":"LegalReviewBatchCreate"},"LegalReviewBatchSchema":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"generated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Generated At"},"uploaded_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Uploaded At"},"uploaded_by_user_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Uploaded By User Id"},"status":{"$ref":"#/components/schemas/LegalReviewBatchStatus"},"file_for_review_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File For Review Url"},"reviewed_file_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reviewed File Url"},"communication_type":{"$ref":"#/components/schemas/LegalCommunicationType"},"generation_schedule_day":{"type":"string","title":"Generation Schedule Day"},"generation_schedule_time":{"type":"string","title":"Generation Schedule Time"}},"type":"object","required":["id","created_at","status","communication_type","generation_schedule_day","generation_schedule_time"],"title":"LegalReviewBatchSchema"},"LegalReviewBatchStatus":{"type":"string","enum":["OPEN","GENERATED_FOR_REVIEW","REVIEWED","CLOSED"],"title":"LegalReviewBatchStatus"},"LegalReviewUploadResponse":{"properties":{"updated":{"type":"integer","title":"Updated"},"skipped":{"type":"integer","title":"Skipped"},"errors":{"items":{"type":"string"},"type":"array","title":"Errors"}},"type":"object","required":["updated","skipped","errors"],"title":"LegalReviewUploadResponse"},"LoginIdentifierRequest":{"properties":{"identifier":{"type":"string","title":"Identifier"}},"type":"object","required":["identifier"],"title":"LoginIdentifierRequest","description":"Esquema para el primer paso del login: identificar al usuario."},"MasterClientListResponse":{"properties":{"data":{"items":{"$ref":"#/components/schemas/MasterClientRead"},"type":"array","title":"Data"},"pagination":{"$ref":"#/components/schemas/Pagination"},"metadata":{"$ref":"#/components/schemas/Metadata"}},"type":"object","required":["data","pagination","metadata"],"title":"MasterClientListResponse","description":"Modelo de respuesta para la lista paginada de clientes maestros."},"MasterClientRead":{"properties":{"cedula":{"type":"string","title":"Cedula","description":"Número de documento del cliente."},"nombre_deudor":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nombre Deudor","description":"Nombre completo del cliente."},"tipo_documento":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tipo Documento","description":"Tipo de documento del cliente."}},"type":"object","required":["cedula","cedula"],"title":"MasterClientRead","description":"Esquema para la información básica de un MasterClient, mapeado desde el modelo ORM."},"MasterEmployeeUpdate":{"properties":{"cedula":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Cedula"},"nombre":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Nombre"},"area":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Area"},"cargo":{"type":"string","maxLength":100,"title":"Cargo"},"jefe_inmediato":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Jefe Inmediato"},"contrato":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Contrato"},"top":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Top"},"temporal":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Temporal"},"estado":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Estado"},"ciudad":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Ciudad"},"usuario_red":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Usuario Red"},"adminfo":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Adminfo"},"extencion_3cx":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Extencion 3Cx"},"cola_3cx":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Cola 3Cx"},"asignacion":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Asignacion"},"fecha_ingreso":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Fecha Ingreso"},"fecha_nacimiento":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Fecha Nacimiento"},"fecha_productividad":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Fecha Productividad"},"genero":{"anyOf":[{"type":"string","maxLength":1},{"type":"null"}],"title":"Genero"},"lugar":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Lugar"},"direccion":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Direccion"},"eps":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Eps"},"pensiones":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Pensiones"},"arl":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Arl"},"celular":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Celular"},"correo_renovar":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Correo Renovar"},"correo_personal":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Correo Personal"},"contacto_emergencia":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Contacto Emergencia"},"telefono_emergencia":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Telefono Emergencia"},"hijos_cantidad":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Hijos Cantidad"},"usuario_creador":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Usuario Creador"},"fecha_creacion":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Creacion"},"fecha_retiro":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Fecha Retiro"},"motivo_retiro":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Motivo Retiro"},"submotivo_retiro":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Submotivo Retiro"},"observacion_retiro":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Observacion Retiro"},"usuario_que_retiro":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Usuario Que Retiro"},"fecha_aprobacion_rechazo_juridico":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Aprobacion Rechazo Juridico"},"usuario_aprobador_juridico":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Usuario Aprobador Juridico"},"motivo_rechazo_juridico":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Motivo Rechazo Juridico"},"fecha_retiro_deseada":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Fecha Retiro Deseada"}},"type":"object","required":["cargo"],"title":"MasterEmployeeUpdate"},"MediaUploadFromGCSRequest":{"properties":{"storage_object":{"type":"string","title":"Storage Object","description":"GCS object name/path inside the configured bucket"},"mime_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mime Type","description":"Optional MIME type override for the upload"}},"type":"object","required":["storage_object"],"title":"MediaUploadFromGCSRequest","description":"Request body to upload a GCS object to Meta as media and obtain a media_id."},"MediaUploadResponse":{"properties":{"id":{"type":"string","title":"Id"}},"type":"object","required":["id"],"title":"MediaUploadResponse","description":"Response after uploading media to Meta; contains media id."},"MessageSchema":{"properties":{"message_type":{"type":"string","title":"Message Type"},"body":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Body"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"}},"type":"object","required":["message_type","timestamp"],"title":"MessageSchema","description":"Schema for representing a message in conversation lists.\nExposes only the essential fields for the API response."},"Metadata":{"properties":{"applied_scope":{"type":"string","enum":["gestor","coordinador","global"],"title":"Applied Scope"}},"type":"object","required":["applied_scope"],"title":"Metadata","description":"Esquema para la metadata adicional de la respuesta."},"Notification":{"properties":{"message":{"type":"string","title":"Message"},"link_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Link Url"},"id":{"type":"string","format":"uuid","title":"Id"},"is_read":{"type":"boolean","title":"Is Read"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"type":{"$ref":"#/components/schemas/NotificationType"}},"type":"object","required":["message","id","is_read","created_at","type"],"title":"Notification","description":"Esquema para devolver una notificación desde la API."},"NotificationType":{"type":"string","enum":["TEMPLATE_APPROVED","TEMPLATE_REJECTED","CAMPAIGN_SCHEDULED","CAMPAIGN_SENDING","CAMPAIGN_COMPLETED","CAMPAIGN_ERROR","GENERIC_INFO"],"title":"NotificationType"},"ObligacionSistemaOrigen":{"properties":{"obligacion":{"type":"string","title":"Obligacion"},"sistema_origen":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sistema Origen"}},"type":"object","required":["obligacion","sistema_origen"],"title":"ObligacionSistemaOrigen"},"ObligacionesResponse":{"properties":{"total_obligaciones":{"type":"integer","title":"Total Obligaciones"},"gestor":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Gestor"},"obligaciones":{"items":{"$ref":"#/components/schemas/ObligacionSistemaOrigen"},"type":"array","title":"Obligaciones"}},"type":"object","required":["total_obligaciones","gestor","obligaciones"],"title":"ObligacionesResponse"},"ObligationInput":{"properties":{"obligation_ids":{"items":{"type":"string"},"type":"array","title":"Obligation Ids"}},"type":"object","required":["obligation_ids"],"title":"ObligationInput"},"ObligationUrlIngestResult":{"properties":{"rows":{"type":"integer","title":"Rows"},"affected":{"type":"integer","title":"Affected"}},"type":"object","required":["rows","affected"],"title":"ObligationUrlIngestResult"},"ObligationUrlResponse":{"properties":{"obligacion":{"type":"string","title":"Obligacion"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"}},"type":"object","required":["obligacion","url"],"title":"ObligationUrlResponse"},"PaginatedResponse_EmployeeResponseSchema_":{"properties":{"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"size":{"type":"integer","title":"Size"},"items":{"items":{"$ref":"#/components/schemas/EmployeeResponseSchema"},"type":"array","title":"Items"}},"type":"object","required":["total","page","size","items"],"title":"PaginatedResponse[EmployeeResponseSchema]"},"Pagination":{"properties":{"total_items":{"type":"integer","title":"Total Items"},"total_pages":{"type":"integer","title":"Total Pages"},"current_page":{"type":"integer","title":"Current Page"},"limit":{"type":"integer","title":"Limit"}},"type":"object","required":["total_items","total_pages","current_page","limit"],"title":"Pagination","description":"Esquema para la metadata de paginación."},"PasswordChange":{"properties":{"current_password":{"type":"string","title":"Current Password"},"new_password":{"type":"string","minLength":8,"title":"New Password"}},"type":"object","required":["current_password","new_password"],"title":"PasswordChange","description":"Schema for changing a password."},"PaymentPlan":{"properties":{"term":{"type":"integer","title":"Term"},"condonation_value":{"type":"number","title":"Condonation Value"},"amount_to_pay":{"type":"number","title":"Amount To Pay"},"condonation_percent":{"type":"number","title":"Condonation Percent"}},"type":"object","required":["term","condonation_value","amount_to_pay","condonation_percent"],"title":"PaymentPlan"},"PaymentReminderHistoryIngestError":{"properties":{"row":{"type":"integer","title":"Row"},"error_message":{"type":"string","title":"Error Message"}},"type":"object","required":["row","error_message"],"title":"PaymentReminderHistoryIngestError"},"PaymentReminderHistoryIngestResult":{"properties":{"status":{"type":"string","title":"Status"},"records_created":{"type":"integer","title":"Records Created"},"records_updated":{"type":"integer","title":"Records Updated"},"errors":{"items":{"$ref":"#/components/schemas/PaymentReminderHistoryIngestError"},"type":"array","title":"Errors"}},"type":"object","required":["status","records_created","records_updated","errors"],"title":"PaymentReminderHistoryIngestResult"},"PaymentSheetIngestResult":{"properties":{"rows":{"type":"integer","title":"Rows"},"affected":{"type":"integer","title":"Affected"}},"type":"object","required":["rows","affected"],"title":"PaymentSheetIngestResult"},"PerformanceSummary":{"properties":{"saldo_capital_total":{"type":"number","title":"Saldo Capital Total","description":"Suma total del saldo capital de las obligaciones asignadas."},"obligaciones_asignadas":{"type":"integer","title":"Obligaciones Asignadas","description":"Conteo total de las obligaciones asignadas."},"recuperacion_del_mes":{"type":"number","title":"Recuperacion Del Mes","description":"Suma total de los pagos recibidos en el mes calendario actual."},"cantidad_de_pagos":{"type":"integer","title":"Cantidad De Pagos","description":"Conteo total de los pagos recibidos en el mes calendario actual."}},"type":"object","required":["saldo_capital_total","obligaciones_asignadas","recuperacion_del_mes","cantidad_de_pagos"],"title":"PerformanceSummary","description":"Esquema para el resumen de rendimiento de un gestor, coordinador o de toda la cartera."},"PreviewRecipient":{"properties":{"nombre_completo":{"type":"string","title":"Nombre Completo"},"contact_info":{"type":"string","title":"Contact Info"},"cedula":{"type":"string","title":"Cedula"}},"type":"object","required":["nombre_completo","contact_info","cedula"],"title":"PreviewRecipient","description":"Esquema para devolver un destinatario en la vista previa de la campaña."},"PreviewResponse":{"properties":{"message":{"type":"string","title":"Message"},"recipient_count":{"type":"integer","title":"Recipient Count"},"sample_messages":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Sample Messages"}},"type":"object","required":["message","recipient_count","sample_messages"],"title":"PreviewResponse"},"Reply":{"properties":{"id":{"type":"string","title":"Id"},"title":{"type":"string","title":"Title"}},"type":"object","required":["id","title"],"title":"Reply"},"ResultadoGestorResponse":{"properties":{"resultado_gestor":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resultado Gestor"}},"type":"object","required":["resultado_gestor"],"title":"ResultadoGestorResponse"},"RetirementRejectionRequest":{"properties":{"motivo_rechazo_juridico":{"type":"string","title":"Motivo Rechazo Juridico"}},"type":"object","required":["motivo_rechazo_juridico"],"title":"RetirementRejectionRequest"},"RetirementRequest":{"properties":{"cedula_a_retirar":{"type":"string","title":"Cedula A Retirar"},"fecha_retiro_deseada":{"type":"string","format":"date","title":"Fecha Retiro Deseada"},"motivo_retiro":{"type":"string","title":"Motivo Retiro"},"observacion_retiro":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Observacion Retiro"}},"type":"object","required":["cedula_a_retirar","fecha_retiro_deseada","motivo_retiro"],"title":"RetirementRequest"},"SendLogReportAction":{"type":"string","enum":["download","email"],"title":"SendLogReportAction"},"SendMessageFromTemplateRequest":{"properties":{"cedula":{"type":"string","title":"Cedula","description":"Cédula of the client."},"obligacion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Obligacion","description":"Obligation associated with the message."},"template_id":{"type":"string","format":"uuid","title":"Template Id","description":"ID of the template to use."},"phone_number":{"type":"string","title":"Phone Number","description":"Phone number to send the message to."}},"type":"object","required":["cedula","template_id","phone_number"],"title":"SendMessageFromTemplateRequest","description":"Request body to send a templated message to a client."},"SendMessageResponse":{"properties":{"messaging_product":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Messaging Product"},"contacts":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Contacts"},"messages":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Messages"}},"type":"object","title":"SendMessageResponse","description":"Minimal response model for WhatsApp send message API."},"SignedURLRequest":{"properties":{"conversation_id":{"type":"integer","title":"Conversation Id","description":"Associated conversation ID for folder structure."},"mime_type":{"type":"string","title":"Mime Type","description":"MIME type of the file to be uploaded (e.g., 'image/jpeg')."},"original_filename":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Original Filename","description":"Original filename to preserve extension."},"kind":{"type":"string","title":"Kind","description":"Subdirectory for the upload (e.g., 'media', 'audio').","default":"media"}},"type":"object","required":["conversation_id","mime_type"],"title":"SignedURLRequest","description":"Request body to generate a signed URL for client-side GCS uploads."},"SignedURLResponse":{"properties":{"signed_url":{"type":"string","title":"Signed Url","description":"The V4 signed URL for PUT request."},"gcs_object_name":{"type":"string","title":"Gcs Object Name","description":"The GCS object name to be stored and used later."},"method":{"type":"string","title":"Method","description":"HTTP method to be used with the signed URL.","default":"PUT"},"content_type":{"type":"string","title":"Content Type","description":"Content-Type header that must be used in the upload request."}},"type":"object","required":["signed_url","gcs_object_name","content_type"],"title":"SignedURLResponse","description":"Response containing the signed URL and the GCS object name."},"SignedUploadRequest":{"properties":{"conversation_id":{"type":"integer","title":"Conversation Id"},"content_type":{"type":"string","title":"Content Type"},"kind":{"type":"string","title":"Kind","description":"Subcarpeta: audio|image|video|document|sticker|media","default":"media"},"original_filename":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Original Filename"}},"type":"object","required":["conversation_id","content_type"],"title":"SignedUploadRequest"},"SignedUploadUrlResponse":{"properties":{"upload_url":{"type":"string","title":"Upload Url","description":"URL firmada para subir el archivo DOCX."},"file_identifier":{"type":"string","title":"File Identifier","description":"Identificador único del archivo en el almacenamiento (ej. ruta GCS)."}},"type":"object","required":["upload_url","file_identifier"],"title":"SignedUploadUrlResponse"},"StaffContactCreate":{"properties":{"adminfo":{"type":"string","maxLength":50,"title":"Adminfo"},"cel_renovar":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Cel Renovar"},"extension_3cx":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Extension 3Cx"},"coordinador":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Coordinador"}},"type":"object","required":["adminfo"],"title":"StaffContactCreate"},"StaffContactSchema":{"properties":{"adminfo":{"type":"string","maxLength":50,"title":"Adminfo"},"cel_renovar":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Cel Renovar"},"extension_3cx":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Extension 3Cx"},"coordinador":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Coordinador"}},"type":"object","required":["adminfo"],"title":"StaffContactSchema"},"StickerMessage":{"properties":{"messaging_product":{"type":"string","const":"whatsapp","title":"Messaging Product"},"recipient_type":{"anyOf":[{"type":"string","const":"individual"},{"type":"null"}],"title":"Recipient Type","default":"individual"},"to":{"type":"string","title":"To"},"type":{"type":"string","const":"sticker","title":"Type"},"sticker":{"$ref":"#/components/schemas/StickerObject"}},"type":"object","required":["messaging_product","to","type","sticker"],"title":"StickerMessage"},"StickerObject":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"},"link":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Link"}},"type":"object","title":"StickerObject"},"Tag":{"properties":{"name":{"type":"string","title":"Name"},"id":{"type":"integer","title":"Id"}},"type":"object","required":["name","id"],"title":"Tag"},"TagCreate":{"properties":{"name":{"type":"string","title":"Name"}},"type":"object","required":["name"],"title":"TagCreate"},"TargetRole":{"type":"string","enum":["DEUDOR","CODEUDOR","AMBAS"],"title":"TargetRole"},"Template":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"name":{"type":"string","title":"Name"},"channel_type":{"$ref":"#/components/schemas/ChannelType"},"status":{"$ref":"#/components/schemas/TemplateStatus"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"subject":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subject"},"components":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Components"},"meta_template_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Meta Template Name"},"meta_template_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Meta Template Id"},"special_variable_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Special Variable Name"},"creator":{"$ref":"#/components/schemas/User"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"rejection_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rejection Reason"},"reviewed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Reviewed At"}},"type":"object","required":["id","name","channel_type","status","creator","created_at","updated_at"],"title":"Template"},"TemplateCharacterCountRequest":{"properties":{"content":{"type":"string","minLength":10,"title":"Content","description":"Contenido de la plantilla SMS con variables."}},"type":"object","required":["content"],"title":"TemplateCharacterCountRequest"},"TemplateComponent":{"properties":{"type":{"type":"string","title":"Type"},"parameters":{"items":{"$ref":"#/components/schemas/TemplateComponentParameter"},"type":"array","title":"Parameters"},"sub_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sub Type"},"index":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Index"}},"type":"object","required":["type","parameters"],"title":"TemplateComponent"},"TemplateComponentParameter":{"properties":{"type":{"type":"string","title":"Type"},"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text"},"image":{"anyOf":[{"$ref":"#/components/schemas/ImageObject"},{"type":"null"}]},"video":{"anyOf":[{"$ref":"#/components/schemas/VideoObject"},{"type":"null"}]},"document":{"anyOf":[{"$ref":"#/components/schemas/DocumentObject"},{"type":"null"}]}},"type":"object","required":["type"],"title":"TemplateComponentParameter"},"TemplateCreate":{"properties":{"name":{"type":"string","maxLength":512,"title":"Name","description":"Name of the template."},"category":{"type":"string","title":"Category","description":"Template category (AUTHENTICATION, MARKETING, UTILITY)."},"language":{"type":"string","title":"Language","description":"Language and locale code (e.g., en_US)."},"parameter_format":{"anyOf":[{"type":"string","enum":["POSITIONAL","NAMED"]},{"type":"null"}],"title":"Parameter Format","description":"Format for parameters."},"components":{"items":{"$ref":"#/components/schemas/Component-Input"},"type":"array","title":"Components","description":"Template components."},"allow_category_change":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Allow Category Change","description":"Allow Meta to update the category."}},"type":"object","required":["name","category","language","components"],"title":"TemplateCreate"},"TemplateCreateEmail":{"properties":{"name":{"type":"string","maxLength":100,"minLength":3,"title":"Name"},"channel_type":{"type":"string","const":"EMAIL","title":"Channel Type"},"subject":{"type":"string","maxLength":255,"minLength":5,"title":"Subject"},"content":{"type":"string","minLength":10,"title":"Content"}},"type":"object","required":["name","channel_type","subject","content"],"title":"TemplateCreateEmail"},"TemplateCreateSMS":{"properties":{"name":{"type":"string","maxLength":100,"minLength":3,"title":"Name"},"channel_type":{"type":"string","const":"SMS","title":"Channel Type"},"content":{"type":"string","minLength":10,"title":"Content"}},"type":"object","required":["name","channel_type","content"],"title":"TemplateCreateSMS"},"TemplateCreateWhatsApp":{"properties":{"name":{"type":"string","maxLength":100,"minLength":3,"title":"Name"},"channel_type":{"type":"string","const":"WHATSAPP","title":"Channel Type"},"meta_template_name":{"anyOf":[{"type":"string","maxLength":512,"pattern":"^[a-z0-9_]+$"},{"type":"null"}],"title":"Meta Template Name","description":"Nombre de plantilla en Meta. Opcional: si no se envía, se usa el mismo `name`."},"category":{"type":"string","enum":["AUTHENTICATION","MARKETING","UTILITY"],"title":"Category"},"components":{"$ref":"#/components/schemas/WhatsAppTemplateComponents"}},"type":"object","required":["name","channel_type","category","components"],"title":"TemplateCreateWhatsApp"},"TemplateDeleteResponse":{"properties":{"success":{"type":"boolean","title":"Success"}},"type":"object","required":["success"],"title":"TemplateDeleteResponse"},"TemplateFieldType":{"type":"string","enum":["TEXT","NUMBER","DATE","SYSTEM_DATA"],"title":"TemplateFieldType"},"TemplateMessage":{"properties":{"messaging_product":{"type":"string","const":"whatsapp","title":"Messaging Product"},"recipient_type":{"anyOf":[{"type":"string","const":"individual"},{"type":"null"}],"title":"Recipient Type","default":"individual"},"to":{"type":"string","title":"To"},"type":{"type":"string","const":"template","title":"Type"},"template":{"$ref":"#/components/schemas/TemplateObject"}},"type":"object","required":["messaging_product","to","type","template"],"title":"TemplateMessage"},"TemplateObject":{"properties":{"name":{"type":"string","title":"Name"},"language":{"additionalProperties":true,"type":"object","title":"Language"},"components":{"anyOf":[{"items":{"$ref":"#/components/schemas/TemplateComponent"},"type":"array"},{"type":"null"}],"title":"Components"}},"type":"object","required":["name","language"],"title":"TemplateObject"},"TemplatePreview":{"properties":{"original_content":{"type":"string","title":"Original Content"},"preview_content":{"type":"string","title":"Preview Content"},"original_subject":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Original Subject"},"preview_subject":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preview Subject"},"components":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Components"}},"type":"object","required":["original_content","preview_content"],"title":"TemplatePreview"},"TemplateResponse":{"properties":{"id":{"type":"string","title":"Id","description":"Template ID."},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status","description":"Template status (PENDING, APPROVED, REJECTED)."},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category","description":"Template category."},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Name of the template."},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language","description":"Language of the template."},"components":{"anyOf":[{"items":{"$ref":"#/components/schemas/Component-Output"},"type":"array"},{"type":"null"}],"title":"Components","description":"Components of the template."}},"type":"object","required":["id"],"title":"TemplateResponse"},"TemplateReviewRequest":{"properties":{"approve":{"type":"boolean","title":"Approve"},"rejection_reason":{"anyOf":[{"type":"string","maxLength":500,"minLength":10},{"type":"null"}],"title":"Rejection Reason"}},"type":"object","required":["approve"],"title":"TemplateReviewRequest"},"TemplateStatus":{"type":"string","enum":["DRAFT","PENDING_OPERATIONS_APPROVAL","REJECTED_OPERATIONS","PENDING_INTERNAL_APPROVAL","REJECTED_INTERNAL","PENDING_META_APPROVAL","REJECTED_META","APPROVED","REJECTED"],"title":"TemplateStatus"},"TemplateUpdate":{"properties":{"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category","description":"New category for the template."},"components":{"anyOf":[{"items":{"anyOf":[{"$ref":"#/components/schemas/Header"},{"$ref":"#/components/schemas/Body"},{"$ref":"#/components/schemas/Footer"},{"$ref":"#/components/schemas/Buttons"}]},"type":"array"},{"type":"null"}],"title":"Components","description":"New components for the template."}},"type":"object","title":"TemplateUpdate"},"TemplateVariable":{"properties":{"variable_name":{"type":"string","title":"Variable Name"},"description":{"type":"string","title":"Description"}},"type":"object","required":["variable_name","description"],"title":"TemplateVariable"},"TextMessage":{"properties":{"messaging_product":{"type":"string","const":"whatsapp","title":"Messaging Product"},"recipient_type":{"anyOf":[{"type":"string","const":"individual"},{"type":"null"}],"title":"Recipient Type","default":"individual"},"to":{"type":"string","title":"To"},"type":{"type":"string","const":"text","title":"Type"},"text":{"$ref":"#/components/schemas/TextObject"}},"type":"object","required":["messaging_product","to","type","text"],"title":"TextMessage"},"TextObject":{"properties":{"preview_url":{"type":"boolean","title":"Preview Url","default":false},"body":{"type":"string","title":"Body"}},"type":"object","required":["body"],"title":"TextObject"},"TipoContrato":{"type":"string","enum":["PLANTA","CORRETAJE","PRESTACION_DE_SERVICIOS","INDEFINIDO","TEMPORAL","OBRA_LABOR"],"title":"TipoContrato"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token"],"title":"Token"},"UnreadNotificationsCount":{"properties":{"count":{"type":"integer","title":"Count"}},"type":"object","required":["count"],"title":"UnreadNotificationsCount","description":"Esquema para devolver el conteo de notificaciones no leídas."},"User":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"adminfo_code":{"type":"string","title":"Adminfo Code"},"cel_renovar":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cel Renovar"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","default":true},"id":{"type":"string","format":"uuid","title":"Id"},"last_login_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Login At"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["email","adminfo_code","id","created_at"],"title":"User"},"UserCreateByAdmin":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"adminfo_code":{"type":"string","title":"Adminfo Code"},"cel_renovar":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cel Renovar"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","default":true},"password":{"type":"string","title":"Password"},"role_id":{"type":"integer","title":"Role Id"}},"type":"object","required":["email","adminfo_code","password","role_id"],"title":"UserCreateByAdmin"},"UserUpdateByAdmin":{"properties":{"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"cel_renovar":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cel Renovar"}},"type":"object","title":"UserUpdateByAdmin","description":"Schema for updating a user by an admin."},"UserUpdateCel":{"properties":{"cel_renovar":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cel Renovar"}},"type":"object","title":"UserUpdateCel"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VideoMessage":{"properties":{"messaging_product":{"type":"string","const":"whatsapp","title":"Messaging Product"},"recipient_type":{"anyOf":[{"type":"string","const":"individual"},{"type":"null"}],"title":"Recipient Type","default":"individual"},"to":{"type":"string","title":"To"},"type":{"type":"string","const":"video","title":"Type"},"video":{"$ref":"#/components/schemas/VideoObject"}},"type":"object","required":["messaging_product","to","type","video"],"title":"VideoMessage"},"VideoObject":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"},"link":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Link"},"caption":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Caption"}},"type":"object","title":"VideoObject"},"WhatsAppBodyComponent":{"properties":{"text":{"type":"string","maxLength":1024,"title":"Text"},"example":{"anyOf":[{"additionalProperties":{"items":{"items":{"type":"string"},"type":"array"},"type":"array"},"type":"object"},{"type":"null"}],"title":"Example"}},"type":"object","required":["text"],"title":"WhatsAppBodyComponent"},"WhatsAppButton":{"properties":{"type":{"type":"string","enum":["QUICK_REPLY","URL","PHONE_NUMBER"],"title":"Type"},"text":{"type":"string","title":"Text"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"phone_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone Number"},"example":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Example"}},"type":"object","required":["type","text"],"title":"WhatsAppButton"},"WhatsAppFooterComponent":{"properties":{"text":{"type":"string","maxLength":60,"title":"Text"}},"type":"object","required":["text"],"title":"WhatsAppFooterComponent"},"WhatsAppHeaderComponent":{"properties":{"format":{"type":"string","enum":["TEXT","IMAGE","VIDEO","DOCUMENT","LOCATION"],"title":"Format"},"text":{"anyOf":[{"type":"string","maxLength":60},{"type":"null"}],"title":"Text"},"example":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Example"},"gcs_object_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Gcs Object Name","description":"GCS object path to fetch media for header handle generation."},"file_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Name","description":"Original filename for handle session."},"mime_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mime Type","description":"MIME type for handle session."},"public_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Public Url","description":"Public URL for accessing the media file."}},"type":"object","required":["format"],"title":"WhatsAppHeaderComponent"},"WhatsAppTemplateComponents":{"properties":{"header":{"anyOf":[{"$ref":"#/components/schemas/WhatsAppHeaderComponent"},{"type":"null"}]},"body":{"$ref":"#/components/schemas/WhatsAppBodyComponent"},"footer":{"anyOf":[{"$ref":"#/components/schemas/WhatsAppFooterComponent"},{"type":"null"}]},"buttons":{"anyOf":[{"items":{"$ref":"#/components/schemas/WhatsAppButton"},"type":"array"},{"type":"null"}],"title":"Buttons"}},"type":"object","required":["body"],"title":"WhatsAppTemplateComponents"},"WorkPlanIngestResult":{"properties":{"rows":{"type":"integer","title":"Rows"},"affected":{"type":"integer","title":"Affected"}},"type":"object","required":["rows","affected"],"title":"WorkPlanIngestResult"},"app__schemas__communication_history__PaginationInfo":{"properties":{"total_items":{"type":"integer","title":"Total Items"},"total_pages":{"type":"integer","title":"Total Pages"},"current_page":{"type":"integer","title":"Current Page"},"limit":{"type":"integer","title":"Limit"}},"type":"object","required":["total_items","total_pages","current_page","limit"],"title":"PaginationInfo","description":"Información de paginación para las respuestas de lista."},"app__schemas__templates_meta__Button":{"properties":{"type":{"type":"string","title":"Type","description":"Button type (QUICK_REPLY, URL, PHONE_NUMBER)."},"text":{"type":"string","title":"Text","description":"Button text."},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url","description":"URL for URL buttons."},"phone_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone Number","description":"Phone number for PHONE_NUMBER buttons."},"example":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Example","description":"Examples for URL variable if present."}},"type":"object","required":["type","text"],"title":"Button"},"app__schemas__whatsapp__Button":{"properties":{"type":{"type":"string","const":"reply","title":"Type"},"reply":{"$ref":"#/components/schemas/Reply"}},"type":"object","required":["type","reply"],"title":"Button"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/auth/login/token"}}}}}}